(this["webpackJsonpmusic-client"]=this["webpackJsonpmusic-client"]||[]).push([[0],{142:function(e,t,a){e.exports=a(156)},156:function(e,t,a){"use strict";a.r(t);var n,r,c,i,o,l=a(0),u=a.n(l),s=a(14),m=a.n(s),d=a(130),p=a(199),f=a(220),b=a(25),E=a(51),h=a(12),v=a(38),y=a(39),g=a.n(y),k=a(21);function w(){var e=Object(v.a)(["\n    mutation Signin($input: SigninInput!) {\n  signin(input: $input) {\n    error\n  }\n}\n    "]);return w=function(){return e},e}function j(){var e=Object(v.a)(["\n    query AppleMusicToken {\n  appleMusicToken\n}\n    "]);return j=function(){return e},e}function O(){var e=Object(v.a)(["\n    mutation UpdateMe($input: UpdateMeInput!) {\n  updateMe(input: $input) {\n    currentUser {\n      id\n      username\n      name\n    }\n    error\n  }\n}\n    "]);return O=function(){return e},e}function S(){var e=Object(v.a)(["\n    query Me {\n  me {\n    id\n    name\n    username\n    initialized\n    role {\n      id\n      name\n      description\n      allowedActions\n    }\n    favorite {\n      albumIds\n      artistIds\n    }\n  }\n}\n    "]);return S=function(){return e},e}function A(){var e=Object(v.a)(["\n    query Tracks($cursor: CursorInputObject, $sort: TracksSortInputObject, $conditions: TracksConditionsInputObject) {\n  items: tracks(cursor: $cursor, sort: $sort, conditions: $conditions) {\n    id\n    isrc\n    name\n    discNumber\n    trackNumber\n    durationMs\n    previewUrl\n    popularity\n    appleMusicTracks {\n      id\n    }\n    itunesTracks {\n      id\n    }\n    spotifyTracks {\n      id\n    }\n    artworkM {\n      url\n      width\n      height\n    }\n  }\n}\n    "]);return A=function(){return e},e}function x(){var e=Object(v.a)(["\n    query Artists($cursor: CursorInputObject, $sort: ArtistsSortInputObject, $conditions: ArtistsConditionsInputObject) {\n  items: artists(cursor: $cursor, sort: $sort, conditions: $conditions) {\n    id\n    name\n    status\n    artworkM {\n      url\n      width\n      height\n    }\n  }\n}\n    "]);return x=function(){return e},e}function P(){var e=Object(v.a)(["\n    query Artist($id: TTID!) {\n  artist(id: $id) {\n    id\n    name\n    artworkL {\n      url\n      width\n      height\n    }\n  }\n}\n    "]);return P=function(){return e},e}function C(){var e=Object(v.a)(["\n    query Albums($cursor: CursorInputObject, $sort: AlbumsSortInputObject, $conditions: AlbumsConditionsInputObject) {\n  items: albums(cursor: $cursor, sort: $sort, conditions: $conditions) {\n    id\n    name\n    status\n    artworkM {\n      url\n      width\n      height\n    }\n    appleMusicAlbum {\n      id\n    }\n    itunesAlbum {\n      id\n    }\n    spotifyAlbum {\n      id\n    }\n  }\n}\n    "]);return C=function(){return e},e}function I(){var e=Object(v.a)(["\n    query Album($id: TTID!) {\n  album(id: $id) {\n    id\n    totalTracks\n    name\n    releaseDate\n    recordLabel\n    copyright\n    artworkL {\n      url\n      width\n      height\n    }\n    artworkM {\n      url\n      width\n      height\n    }\n    appleMusicAlbum {\n      id\n      appleMusicId\n    }\n    itunesAlbum {\n      id\n      appleMusicId\n    }\n    spotifyAlbum {\n      id\n      spotifyId\n    }\n    tracks {\n      id\n      isrc\n      name\n      discNumber\n      trackNumber\n      durationMs\n      previewUrl\n      popularity\n      artworkM {\n        url\n        width\n        height\n      }\n    }\n  }\n}\n    "]);return I=function(){return e},e}function N(){var e=Object(v.a)(["\n    mutation ChangeFavorites($input: ChangeFavoritesInput!) {\n  changeFavorites(input: $input) {\n    currentUser {\n      id\n      name\n      username\n      role {\n        id\n        name\n        description\n        allowedActions\n      }\n      favorite {\n        albumIds\n        artistIds\n      }\n    }\n  }\n}\n    "]);return N=function(){return e},e}!function(e){e.New="NEW",e.Release="RELEASE",e.Popularity="POPULARITY"}(n||(n={})),function(e){e.Name="NAME",e.New="NEW",e.Popularity="POPULARITY"}(r||(r={})),function(e){e.Asc="ASC",e.Desc="DESC"}(c||(c={})),function(e){e.Pending="PENDING",e.Active="ACTIVE",e.Ignore="IGNORE"}(i||(i={})),function(e){e.Name="NAME",e.New="NEW",e.Popularity="POPULARITY"}(o||(o={}));var F=g()(N());var M=g()(I());var U=g()(C());var T=g()(P());var L=g()(x());g()(A());var D=g()(S());var R=g()(O());g()(j());var W=g()(w());var $=a(13),_=a(196),z=a(191),Y=function(e){var t=e.className,a=void 0===t?"":t,n=e.src,r=void 0===n?"":n,c=e.title,i=void 0===c?"":c,o=e.width;return""===r&&(r="".concat("","/no_image.png")),u.a.createElement(z.a,{className:a,image:r,title:i,style:{width:o,height:o}})},q=a(195),H=a(197),G=a(198),B=a(158),J=function(e){var t=e.linkUrl?{component:b.b,to:e.linkUrl}:{};return Object(l.createElement)(q.a,Object($.a)({item:!0,style:{textDecoration:"none"}},t,{children:u.a.createElement(_.a,{style:{width:e.width,position:"relative"}},u.a.createElement(H.a,null,u.a.createElement(q.a,{container:!0,style:{position:"absolute",left:"5px",bottom:"5px"}},e.bottomComponent?e.bottomComponent:u.a.createElement(u.a.Fragment,null)),u.a.createElement(Y,{src:e.src||"",width:e.width,title:e.title})),e.topComponent?e.topComponent:u.a.createElement(u.a.Fragment,null),""===e.title?u.a.createElement(u.a.Fragment,null):u.a.createElement(G.a,{style:{padding:"5px 5px"}},u.a.createElement(B.a,{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variant:"caption",color:"textSecondary",component:"p"},e.title)))}))},X=a(19),Q=a.n(X),K={artist:"a",album:"b",track:"t"},V="q",Z="i",ee="s",te="o",ae="r",ne="f",re="u";function ce(e){var t=Object(E.g)(),a=new URLSearchParams(t.search),n=K[e],r=function(e){var t=a.get(e);if(null===t)return[];var n=t.split("-"),r=new Set;return n.forEach((function(e){r.add(e)})),Array.from(r)},c=function(e,t){if(Q.a.isArray(e))return e.concat(t)},i={},o={};r(n+V).forEach((function(e){o=Q.a.merge(o,{name:e})})),i=Object($.a)({},i,{conditions:o}),r(n+Z).forEach((function(e){switch(!0){case/^art/.test(e):i=Q.a.merge(i,{conditions:{artists:{id:[e]}}});break;case/^abm/.test(e):i=Q.a.merge(i,{conditions:{albums:{id:[e]}}});break;case/^trk/.test(e):i=Q.a.merge(i,{conditions:{tracks:{id:[e]}}})}}));var l={status:[]};r(n+ee).forEach((function(e){l=Q.a.mergeWith(l,{status:[e]},c)})),0!==l.status.length&&(i=Q.a.mergeWith(i,{conditions:Object($.a)({},l)})),r(n+ne).forEach((function(e){i=Q.a.merge(i,{conditions:{favorite:"1"===e}})}));var u={usernames:[]};return r(n+re).forEach((function(e){u=Q.a.mergeWith(u,{usernames:[e]},c)})),0!==u.usernames.length&&(i=Q.a.mergeWith(i,{conditions:Object($.a)({},u)})),r(n+te).forEach((function(e){i=Q.a.merge(i,{sort:{order:e}})})),r(n+ae).forEach((function(e){i=Q.a.merge(i,{sort:{type:e}})})),i}var ie,oe,le=a(200),ue=a(82),se=a.n(ue),me=a(84),de=a.n(me),pe=a(91),fe=Object(l.createContext)({}),be={user:null},Ee=function(e,t){switch(t.type){case"SET_USER":return Object($.a)({},e,{user:t.user});default:return e}},he=function(e){var t=e.children,a=Object(l.useReducer)(Ee,be),n=Object(h.a)(a,2),r=n[0],c=n[1];return u.a.createElement(fe.Provider,{value:{state:r,dispatch:c}},t)},ve=fe,ye=function(e){var t=e.contentWidth,a=e.favorable_type,n=e.favorable_id,r=Object(l.useContext)(ve),c=r.state,i=r.dispatch,o=Object(l.useState)(!1),s=Object(h.a)(o,2),m=s[0],f=s[1];Object(l.useEffect)((function(){if(c.user&&c.user.favorite){var e=c.user.favorite.albumIds.concat(c.user.favorite.artistIds);f(e.includes(n))}}),[c,n]);var b,E={};"artist"===a?E={artistIds:[n]}:"album"===a&&(E={albumIds:[n]}),b=Object($.a)({favorite:!m},E);var v,y=(v={update:function(e,t){var a,n;(null===(a=t.data)||void 0===a||null===(n=a.changeFavorites)||void 0===n?void 0:n.currentUser)&&(i({type:"SET_USER",user:t.data.changeFavorites.currentUser}),f(!m))},variables:{input:b}},k.b(F,v)),g=Object(h.a)(y,1)[0];if(c.user&&c.user.role.allowedActions.includes("changeFavorites")){var w=u.a.createElement(p.a,{theme:Object(d.a)({palette:{primary:pe.a}})},u.a.createElement(se.a,{color:"primary",stroke:"white",strokeWidth:1}));return u.a.createElement(q.a,{container:!0,style:{width:24,position:"absolute",left:"".concat(t-35,"px"),top:"5px"}},u.a.createElement(le.a,{onClick:function(e){g(),e.preventDefault()},size:"small"},m?w:u.a.createElement(de.a,{stroke:"gray",strokeWidth:1})))}return u.a.createElement(u.a.Fragment,null)},ge=function(e){var t=e.album,a=e.width,n=Object(E.f)(),r=new URLSearchParams(n.location.search);r.set(K.artist+Z,t.id),r.delete(K.album+V),r.delete(K.artist+V);var c=r.get(K.album+ee);null===c||r.get(K.album+ee)||r.set(K.album+ee,c);var o={width:"15px",height:"15px",borderRadius:"50%",fontSize:"10px",color:"#fff",lineHeight:"15px",textAlign:"center",background:"#000"},l=[];return t.appleMusicAlbum&&l.push(u.a.createElement(q.a,{key:1,item:!0,style:Object($.a)({},o,{backgroundColor:"#ff2f56"})},"A")),t.itunesAlbum&&l.push(u.a.createElement(q.a,{key:2,item:!0,style:Object($.a)({},o,{backgroundColor:"#0070c9"})},"iT")),t.spotifyAlbum&&l.push(u.a.createElement(q.a,{key:3,item:!0,style:Object($.a)({},o,{backgroundColor:"#1DB954"})},"S")),t.status===i.Pending?l.push(u.a.createElement(q.a,{key:10,item:!0,style:Object($.a)({},o,{color:"#000",backgroundColor:"#FFFF00"})},"PN")):t.status===i.Ignore&&l.push(u.a.createElement(q.a,{key:11,item:!0,style:Object($.a)({},o,{color:"#000",backgroundColor:"#FF0000"})},"IG")),u.a.createElement(J,{title:t.name,src:t.artworkM.url,width:a,linkUrl:"/albums/".concat(t.id,"?").concat(r.toString()),topComponent:u.a.createElement(ye,{favorable_type:"album",favorable_id:t.id,contentWidth:a}),bottomComponent:u.a.createElement(u.a.Fragment,null,l)})},ke=a(99),we=a(116),je=function(e){var t=e.component,a=e.no,n=e.offset,r=e.limit,c=e.fetchMore,i=Object(l.useState)(t),o=Object(h.a)(i,2),s=o[0],m=o[1],d=Object(l.useState)(!1),p=Object(h.a)(d,2),f=p[0],b=p[1],E=a===n-r;return u.a.createElement(u.a.Fragment,null,t,E?u.a.createElement(we.a,{onEnter:function(){if(!f||s!==t)return b(!0),m(t),c({variables:{cursor:{offset:n}},updateQuery:function(e,t){var a=t.fetchMoreResult;return a?Object($.a)({},e,{},{items:[].concat(Object(ke.a)(e.items),Object(ke.a)(a.items))}):e}})}}):u.a.createElement(u.a.Fragment,null))},Oe=a(201),Se=a(224),Ae=a(221),xe=a(226),Pe=function(e){var t=e.label,a=e.value,n=e.minWidth,r=e.selectItems,c=e.onChange;return u.a.createElement(Oe.a,{variant:"outlined",style:{minWidth:n}},u.a.createElement(Se.a,null,t),u.a.createElement(Ae.a,{value:a,onChange:c,label:t},r.map((function(e,t){return u.a.createElement(xe.a,{key:t,value:e.value},e.label)}))))},Ce=a(225),Ie=a(205),Ne=a(117),Fe=a.n(Ne),Me=a(227),Ue=function(e){var t=e.color,a=e.labels,n=e.onDelete,r="";switch(t){case"blue":r="#4AC6D2";break;case"yellow":r="#F2D349"}return u.a.createElement(p.a,{theme:Object(d.a)({palette:{primary:{main:r}}})},a.map((function(e,t){return u.a.createElement(Me.a,{color:"primary",key:t,label:e,onDelete:function(){return n(e)}})})))},Te=function(e){var t=e.type,a=Object(E.f)(),n=Object(l.useContext)(ve).state,r=ce(t),c=Object(l.useState)(!1),i=Object(h.a)(c,2),o=i[0],s=i[1],m=Object(l.useState)((function(){var e,t;return(null===(e=r.conditions)||void 0===e?void 0:e.name)?null===(t=r.conditions)||void 0===t?void 0:t.name:""})),f=Object(h.a)(m,2),b=f[0],v=f[1],y=Object(l.useState)((function(){var e;return!!(null===(e=r.conditions)||void 0===e?void 0:e.favorite)})),g=Object(h.a)(y,2),k=g[0],w=g[1],j=Object(l.useState)((function(){var e,t;return(null===(e=r.conditions)||void 0===e?void 0:e.usernames)?null===(t=r.conditions)||void 0===t?void 0:t.usernames:[]})),O=Object(h.a)(j,2),S=O[0],A=O[1];Object(l.useEffect)((function(){if(o){var e=new URLSearchParams(a.location.search);""!==b?e.set(K[t]+V,b):e.delete(K[t]+V),k?e.set(K[t]+ne,"1"):e.delete(K[t]+ne),S.length>0?e.set(K[t]+re,S.join("-")):e.delete(K[t]+re),a.push("".concat(a.location.pathname,"?").concat(e.toString())),s(!1)}}),[o,a,b,k,t,S]),Object(l.useEffect)((function(){b.match(/\s$/)&&b.split(/\s/).forEach((function(e){e.startsWith("@")&&-1===S.indexOf(e)&&(A(S.concat(e.slice(1,e.length))),v(b.replace(e,"").trim()),s(!0))}))}),[b,S]);var x=u.a.createElement(u.a.Fragment,null,u.a.createElement(Ue,{color:"yellow",labels:S,onDelete:function(e){A(S.filter((function(t){return t!==e}))),s(!0)}})),P="";switch(t){case"artist":P="\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8";break;case"album":P="\u30a2\u30eb\u30d0\u30e0";break;case"track":P="\u66f2"}var C=u.a.createElement(u.a.Fragment,null);return n.user&&n.user.role.allowedActions.includes("changeFavorites")&&(C=u.a.createElement(le.a,{onClick:function(e){w(!k),s(!0)},edge:"end"},k?u.a.createElement(p.a,{theme:Object(d.a)({palette:{primary:pe.a}})},u.a.createElement(se.a,{color:"primary",stroke:"white",strokeWidth:2})):u.a.createElement(de.a,null))),u.a.createElement(Oe.a,{variant:"outlined"},u.a.createElement(Se.a,{htmlFor:"ord"},P+"\u691c\u7d22"),u.a.createElement(Ce.a,{onChange:function(e){v(e.target.value)},onKeyDown:function(e){13===e.keyCode&&s(!0)},startAdornment:x,endAdornment:u.a.createElement(Ie.a,{position:"end"},C,u.a.createElement(le.a,{onClick:function(e){s(!0)},edge:"end"},u.a.createElement(Fe.a,null))),label:P+"\u691c\u7d22",value:b}))},Le=function(){var e,t,a,n,r=Object(l.useState)("RELEASE.DESC"),c=Object(h.a)(r,2),i=c[0],o=c[1],s=ce("album"),m=Object(E.f)(),d=(null===(e=s.conditions)||void 0===e?void 0:e.favorite)?"cache-and-network":"cache-first",p=(n={variables:{cursor:{offset:0,limit:50},sort:s.sort,conditions:s.conditions},fetchPolicy:d},k.c(U,n)),f=p.error,b=p.data,v=p.fetchMore,y=(null===s||void 0===s?void 0:s.sort)?"".concat(null===s||void 0===s||null===(t=s.sort)||void 0===t?void 0:t.order,".").concat(null===s||void 0===s||null===(a=s.sort)||void 0===a?void 0:a.type):null;if(y&&i!==y&&o(y),f)return u.a.createElement("div",null,f.message);var g=[];b&&(g=b.items.map((function(e,t){return u.a.createElement(q.a,{item:!0,key:t},u.a.createElement(je,{component:u.a.createElement(ge,{album:e,width:150}),no:t,offset:b.items.length,limit:50,fetchMore:v}))})));return u.a.createElement(q.a,{container:!0,spacing:2,direction:"column",justify:"center",alignItems:"center"},u.a.createElement(q.a,{item:!0},u.a.createElement(q.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center"},u.a.createElement(q.a,{item:!0},u.a.createElement(Te,{type:"album"})),u.a.createElement(q.a,{item:!0},u.a.createElement(Pe,{label:"\u30a2\u30eb\u30d0\u30e0\u8868\u793a\u9806",value:i,onChange:function(e,t){var a=e.target.value,n=a.split("."),r=Object(h.a)(n,2),c=r[0],i=r[1];o(a);var l=new URLSearchParams(m.location.search);l.set(K.album+te,c),l.set(K.album+ae,i),m.push("".concat(m.location.pathname,"?").concat(l.toString()))},minWidth:150,selectItems:[{label:"\u767a\u58f2\u65e5\u65b0\u3057\u3044\u9806",value:"RELEASE.DESC"},{label:"\u767a\u58f2\u65e5\u53e4\u3044\u9806",value:"RELEASE.ASC"},{label:"\u8ffd\u52a0\u65e5\u65b0\u3057\u3044\u9806",value:"NEW.DESC"},{label:"\u8ffd\u52a0\u65e5\u53e4\u3044\u9806",value:"NEW.ASC"},{label:"\u4eba\u6c17\u9806",value:"POPULARITY.DESC"}]})))),u.a.createElement(q.a,{item:!0},u.a.createElement(q.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center",spacing:1},g)))},De=a(206),Re=a(207),We=a(208),$e=a(209),_e=a(131),ze=a(118),Ye=a.n(ze),qe=a(87),He=a.n(qe),Ge=a(88),Be=a.n(Ge),Je=function(e){var t=e.children,a=e.window,n=Object(De.a)({target:a?a():void 0});return u.a.createElement(Re.a,{appear:!1,direction:"down",in:!n},t)},Xe=function(){var e=function(e){return function(){var t;document.title="".concat(e," - \u30b2\u30fc\u30e0\u97f3\u697d"),null===(t=document.querySelector('meta[name="description"]'))||void 0===t||t.setAttribute("content","\u97f3\u697d\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u914d\u4fe1\u4e2d\u306e\u30b2\u30fc\u30e0\u97f3\u697d\u306e\u30dd\u30fc\u30bf\u30eb\u30b5\u30a4\u30c8")}},t=u.a.useState(null),a=Object(h.a)(t,2),n=a[0],r=a[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement(Je,null,u.a.createElement(We.a,null,u.a.createElement($e.a,null,u.a.createElement(q.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:3},u.a.createElement(q.a,{item:!0},u.a.createElement("img",{src:"/logo.png",style:{width:"150px"}})),u.a.createElement(q.a,{item:!0},u.a.createElement(le.a,{component:b.b,onClick:e("\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u4e00\u89a7"),to:"/artists",edge:"start",size:"small",color:"inherit","aria-label":"menu"},u.a.createElement(Ye.a,null))),u.a.createElement(q.a,{item:!0},u.a.createElement(le.a,{component:b.b,onClick:e("\u30a2\u30eb\u30d0\u30e0\u4e00\u89a7"),to:"/albums",edge:"start",size:"small",color:"inherit","aria-label":"menu"},u.a.createElement(He.a,null))),u.a.createElement(q.a,{item:!0},u.a.createElement(le.a,{onClick:function(e){return r(e.currentTarget)},edge:"start",size:"small",color:"inherit","aria-label":"menu"},u.a.createElement(Be.a,null)),u.a.createElement(_e.a,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){return r(null)}},u.a.createElement(xe.a,{component:b.b,onClick:function(){e("\u3053\u306e\u30b5\u30a4\u30c8\u306b\u3064\u3044\u3066"),r(null)},to:"/about"},"\u3053\u306e\u30b5\u30a4\u30c8\u306b\u3064\u3044\u3066"))))))))},Qe=a(28),Ke=a(52),Ve=a(29),Ze=a(133),et=a(132),tt=a(119),at=new Ze.a({uri:"https://video-game-music.net/graphql",credentials:"include"}),nt=new Ve.a((function(e,t){return t(e)})),rt=Object(tt.a)((function(e){var t=e.graphQLErrors,a=e.networkError;t&&t.map((function(e){var t=e.message,a=e.locations,n=e.path;return console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(a,", Path: ").concat(n))})),a&&console.log("[Network error]: ".concat(a))})),ct=Ve.a.from([nt,rt,at]),it=new Ke.a({link:ct,cache:new et.a({dataIdFromObject:function(e){return e.id}})}),ot=function(e){var t=e.artist,a=e.width,n=Object(E.f)(),r=new URLSearchParams(n.location.search);r.set(K.album+Z,t.id),r.delete(K.album+V),r.delete(K.artist+V);var c=r.get(K.artist+ee);null===c||r.get(K.album+ee)||r.set(K.album+ee,c);var o={width:"15px",height:"15px",borderRadius:"50%",fontSize:"10px",color:"#fff",lineHeight:"15px",textAlign:"center",background:"#000"},l=[];t.status===i.Pending?l.push(u.a.createElement(q.a,{key:10,item:!0,style:Object($.a)({},o,{color:"#000",backgroundColor:"#FFFF00"})},"PN")):t.status===i.Ignore&&l.push(u.a.createElement(q.a,{key:11,item:!0,style:Object($.a)({},o,{color:"#000",backgroundColor:"#FF0000"})},"IG"));var s=u.a.createElement(u.a.Fragment,null,l);return u.a.createElement(J,{title:t.name,src:t.artworkM.url,width:a,linkUrl:"/artists/".concat(t.id,"?").concat(r.toString()),topComponent:u.a.createElement(ye,{favorable_type:"artist",favorable_id:t.id,contentWidth:a}),bottomComponent:s})},lt=function(){var e,t,a,n,r=Object(l.useState)("NAME.DESC"),c=Object(h.a)(r,2),i=c[0],o=c[1],s=ce("artist"),m=Object(E.f)(),d=(null===(e=s.conditions)||void 0===e?void 0:e.favorite)?"cache-and-network":"cache-first",p=(n={variables:{cursor:{offset:0,limit:30},sort:s.sort,conditions:s.conditions},fetchPolicy:d},k.c(L,n)),f=p.error,b=p.data,v=p.fetchMore,y=(null===s||void 0===s?void 0:s.sort)?"".concat(null===s||void 0===s||null===(t=s.sort)||void 0===t?void 0:t.order,".").concat(null===s||void 0===s||null===(a=s.sort)||void 0===a?void 0:a.type):null;if(y&&i!==y&&o(y),f)return u.a.createElement("div",null,f.message);var g=[];b&&(g=b.items.map((function(e,t){return u.a.createElement(q.a,{item:!0,key:t},u.a.createElement(je,{component:u.a.createElement(ot,{artist:e,width:150}),no:t,offset:b.items.length,limit:30,fetchMore:v}))})));return u.a.createElement(q.a,{container:!0,spacing:2,direction:"column",justify:"center",alignItems:"center"},u.a.createElement(q.a,{item:!0},u.a.createElement(q.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center"},u.a.createElement(q.a,{item:!0},u.a.createElement(Te,{type:"artist"})),u.a.createElement(q.a,{item:!0},u.a.createElement(Pe,{label:"\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u8868\u793a\u9806",value:i,onChange:function(e,t){var a=e.target.value,n=a.split("."),r=Object(h.a)(n,2),c=r[0],i=r[1];o(a);var l=new URLSearchParams(m.location.search);l.set(K.artist+te,c),l.set(K.artist+ae,i),m.push("".concat(m.location.pathname,"?").concat(l.toString()))},minWidth:150,selectItems:[{label:"\u540d\u524d\u964d\u9806",value:"NAME.DESC"},{label:"\u540d\u524d\u6607\u9806",value:"NAME.ASC"},{label:"\u8ffd\u52a0\u65e5\u65b0\u3057\u3044\u9806",value:"NEW.DESC"},{label:"\u8ffd\u52a0\u65e5\u53e4\u3044\u9806",value:"NEW.ASC"},{label:"\u4eba\u6c17\u9806",value:"POPULARITY.DESC"}]})))),u.a.createElement(q.a,{item:!0},u.a.createElement(q.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center",spacing:1},g)))},ut=a(214),st=a(136),mt=a(215),dt=a(216),pt=a(212),ft=a(213),bt=a(217),Et=a(223),ht=a(218),vt=a(24),yt=a.n(vt),gt=a(43),kt=a(120),wt=a(121),jt=a(122),Ot=function(){function e(t){var a=this,n=t.linkUrl,r=t.tracks,c=t.dispatch;Object(kt.a)(this,e),this.linkUrl=void 0,this.playlist=void 0,this.tracks=void 0,this.currentPlaybackNo=void 0,this.dispatch=void 0,this.linkUrl=n,this.currentPlaybackNo=0,this.playlist={},r.forEach((function(e,t){if(e.previewUrl){var n=new jt.Howl({src:e.previewUrl,html5:!0,preload:!1,autoplay:!1,onend:function(){var e=Object(gt.a)(yt.a.mark((function e(){return yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.autoNextPlay());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onplay:function(){a.dispatch&&a.setMediaMetadata(a.dispatch),0===n.volume()&&n.fade(0,.5,2e3);setTimeout((function(){return n.fade(.5,0,2e3)}),1e3*(n.duration()-n.seek())-2e3)},onstop:function(){return n.volume(0)},volume:0});a.playlist[t]=n}})),this.tracks=r,this.dispatch=c}return Object(wt.a)(e,[{key:"setMediaMetadata",value:function(e){if(navigator.mediaSession){var t=this.currentTrack();t&&(navigator.mediaSession.metadata=new MediaMetadata({title:t.name,artwork:[{src:t.artworkM.url||"",sizes:"300x300",type:"image/png"}]})),navigator.mediaSession.setActionHandler("play",(function(){return e({type:"PLAY"})})),navigator.mediaSession.setActionHandler("pause",(function(){return e({type:"PAUSE"})})),navigator.mediaSession.setActionHandler("nexttrack",(function(){return e({type:"NEXT_PLAY"})}))}}},{key:"currentTrack",value:function(){if(!Object(X.isEmpty)(this.playlist))return this.tracks[this.currentPlaybackNo]}},{key:"play",value:function(){var e=Object(gt.a)(yt.a.mark((function e(t){var a;return yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(X.isEmpty)(this.playlist)){e.next=2;break}return e.abrupt("return");case 2:if(void 0!==t){e.next=13;break}if(!(a=this.playlist[this.currentPlaybackNo])){e.next=9;break}return e.next=7,a.play();case 7:e.next=11;break;case 9:return e.next=11,this.autoNextPlay();case 11:e.next=15;break;case 13:this.stopAndPlay(this.currentPlaybackNo,t),this.currentPlaybackNo=t;case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"autoNextPlay",value:function(){var e=Object(gt.a)(yt.a.mark((function e(){return yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.dispatch&&this.dispatch({type:"NEXT_PLAY"});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nextPlay",value:function(){var e=Object(gt.a)(yt.a.mark((function e(){var t,a;return yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(X.isEmpty)(this.playlist)){e.next=2;break}return e.abrupt("return",0);case 2:if(t=this.currentPlaybackNo+1,!(this.tracks.length-1<t)){e.next=11;break}return e.next=6,this.playlist[this.currentPlaybackNo].stop();case 6:return this.currentPlaybackNo=0,this.dispatch&&this.dispatch({type:"STATUS_FINISH"}),e.abrupt("return",this.currentPlaybackNo);case 11:return a=this.currentPlaybackNo,this.currentPlaybackNo=t,e.next=15,this.stopAndPlay(a,t);case 15:return e.abrupt("return",this.currentPlaybackNo);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopAndPlay",value:function(){var e=Object(gt.a)(yt.a.mark((function e(t,a){var n,r;return yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=this.playlist[t])||void 0===n?void 0:n.stop();case 2:if(!(r=this.playlist[a])){e.next=8;break}return e.next=6,r.play();case 6:e.next=10;break;case 8:return e.next=10,this.autoNextPlay();case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"pause",value:function(){var e=Object(gt.a)(yt.a.mark((function e(){return yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(X.isEmpty)(this.playlist)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.playlist[this.currentPlaybackNo].pause();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){var e=Object(gt.a)(yt.a.mark((function e(){return yt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(X.isEmpty)(this.playlist)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.playlist[this.currentPlaybackNo].stop();case 4:this.currentPlaybackNo=0;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),St=a(210),At=a(92),xt=a(93),Pt=Object(l.createContext)({});!function(e){e[e.None=0]="None",e[e.Play=1]="Play",e[e.Pause=2]="Pause",e[e.Stop=3]="Stop"}(ie||(ie={})),function(e){e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.Done=2]="Done"}(oe||(oe={}));var Ct={player:new Ot({linkUrl:"",tracks:[]}),currentNo:0,playbackStatus:ie.None,loadingStatus:oe.Done},It=function(e,t){switch(t.type){case"SET_PLAYER":return e.player.stop(),Object($.a)({},e,{player:t.player,playbackStatus:ie.Stop});case"PLAY":e.player.play(t.no);var a=void 0===t.no?e.currentNo:t.no;return Object($.a)({},e,{playbackStatus:ie.Play,currentNo:a});case"NEXT_PLAY":return Object(gt.a)(yt.a.mark((function t(){return yt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.player.nextPlay();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))(),Object($.a)({},e,{currentNo:e.player.currentPlaybackNo,playbackStatus:ie.Play});case"PAUSE":return e.player.pause(),Object($.a)({},e,{playbackStatus:ie.Pause});case"STOP":return e.player.stop(),Object($.a)({},e,{playbackStatus:ie.Play});case"LOADING_START":return Object($.a)({},e,{loadingStatus:oe.Loading});case"LOADING_DONE":return Object($.a)({},e,{loadingStatus:oe.Done});case"STATUS_FINISH":return Object($.a)({},e,{currentNo:e.player.currentPlaybackNo,playbackStatus:ie.Pause,loadingStatus:oe.Done});default:return e}},Nt=function(e){var t=e.children,a=Object(l.useReducer)(It,Ct),n=Object(h.a)(a,2),r=n[0],c=n[1];return u.a.createElement(Pt.Provider,{value:{state:r,dispatch:c}},t)},Ft=Pt,Mt=function(e){var t=e.album,a=Object(l.useContext)(Ft).dispatch,n=[];return(null===t||void 0===t?void 0:t.appleMusicAlbum)&&n.push(u.a.createElement(q.a,{item:!0,key:0},u.a.createElement(p.a,{theme:Object(d.a)({palette:{primary:pe.a}})},u.a.createElement(St.a,{href:"https://music.apple.com/jp/album/".concat(t.appleMusicAlbum.appleMusicId),target:"_blank",variant:"contained",color:"primary",onClick:function(){return a({type:"PAUSE"})}},"Apple Music \u3067\u8074\u304f")))),(null===t||void 0===t?void 0:t.itunesAlbum)&&n.push(u.a.createElement(q.a,{item:!0,key:1},u.a.createElement(p.a,{theme:Object(d.a)({palette:{primary:At.a}})},u.a.createElement(St.a,{href:"https://music.apple.com/jp/album/".concat(t.itunesAlbum.appleMusicId),target:"_blank",variant:"contained",color:"primary",onClick:function(){return a({type:"PAUSE"})}},"iTunes \u3067\u8074\u304f")))),(null===t||void 0===t?void 0:t.spotifyAlbum)&&n.push(u.a.createElement(q.a,{item:!0,key:2},u.a.createElement(p.a,{theme:Object(d.a)({palette:{primary:xt.a}})},u.a.createElement(St.a,{href:"https://open.spotify.com/album/".concat(t.spotifyAlbum.spotifyId),target:"_blank",variant:"contained",color:"primary",onClick:function(){return a({type:"PAUSE"})}},"Spotify \u3067\u8074\u304f")))),u.a.createElement(q.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center"},n)},Ut=a(211),Tt=a(63),Lt=a.n(Tt),Dt=a(123),Rt=a.n(Dt),Wt=Object(Ut.a)((function(e){return{"@keyframes playing-icon-spin":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},playingIcon:{height:24,width:24,animationName:"$playing-icon-spin",animationDuration:"2000ms",animationIterationCount:"infinite",animationTimingFunction:"linear"}}})),$t=function(e){var t,a=e.track,n=e.index,r=e.playAction,c=e.averagePopularity,i=Wt(),o=Object(l.useContext)(Ft).state,s=null!==a.previewUrl,m=o.playbackStatus===ie.Play,d=n===o.currentNo&&a.id===(null===(t=o.player.currentTrack())||void 0===t?void 0:t.id),p=u.a.createElement(He.a,{color:"primary",className:i.playingIcon,component:function(e){return u.a.createElement("svg",e,u.a.createElement("defs",null,u.a.createElement("linearGradient",{id:"gradient1"},m?u.a.createElement(u.a.Fragment,null,u.a.createElement("stop",{offset:"20%",stopColor:"#4AC6D2"}),u.a.createElement("stop",{offset:"80%",stopColor:"#F2D349"})):u.a.createElement("stop",{offset:"100%",stopColor:"#4AC6D2"}))),u.a.cloneElement(e.children[0],{fill:"url(#gradient1)"}))}}),f=!1;return c<a.popularity&&(f=!0),u.a.createElement(pt.a,null,u.a.createElement(ft.a,{align:"center"},d?u.a.createElement(le.a,{component:"span"},p):u.a.createElement(le.a,{onClick:function(){return r(n)},disabled:!s,component:"span"},f?u.a.createElement(Rt.a,null):u.a.createElement(Lt.a,null))),u.a.createElement(ft.a,null,a.name))},_t=a(124),zt=a.n(_t),Yt=a(90),qt=a.n(Yt),Ht=a(125),Gt=a.n(Ht),Bt=function(e){var t=e.album,a="https://video-game-music.net/albums/".concat(t.id,"?ai=").concat(t.id),n="https://twitter.com/intent/tweet";n+="?text=".concat(t.name," - \u30b2\u30fc\u30e0\u97f3\u697d"),n+="&url=".concat(a);var r="https://www.facebook.com/sharer/sharer.php";return r+="?u=".concat(encodeURIComponent(a)),u.a.createElement(q.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2},u.a.createElement(q.a,{item:!0},u.a.createElement(le.a,{size:"small",disabled:!0},u.a.createElement(zt.a,null))),u.a.createElement(q.a,{item:!0},u.a.createElement(le.a,{size:"small",href:n,target:"_blank"},u.a.createElement(qt.a,null))),u.a.createElement(q.a,{item:!0},u.a.createElement(le.a,{size:"small",href:r,target:"_blank"},u.a.createElement(Gt.a,null))))},Jt=function(e){var t=e.album,a=Object(l.useContext)(Ft).dispatch,n=Object(E.g)(),r=Object(l.useState)(!1),c=Object(h.a)(r,2),i=c[0],o=c[1],s=function(e){var t=parseInt((e/1e3).toFixed(0)),a=parseInt((e/6e4).toFixed(0)),n=parseInt((e/36e5).toFixed(0)),r=parseInt((e/864e5).toFixed(0));return t<60?t+"\u79d2":a<60?a+"\u5206":n<24?n+"\u6642\u9593":r+"\u65e5"},m=t.tracks.map((function(e){return e.durationMs})).reduce((function(e,t){return e+t})),d=new Date(t.releaseDate).toLocaleDateString("jp",{year:"numeric",month:"long",day:"numeric"});Object(l.useEffect)((function(){var e,a="\u300c".concat(t.name,"\u300d\u306e\u767a\u58f2\u65e5\u306f").concat(d,"\u3067\u3059\u3002\u53ce\u9332\u66f2\u6570\u306f").concat(t.totalTracks,"\u66f2\u3042\u308a\u3001\u5168\u66f2\u518d\u751f\u6642\u9593\u306f\u7d04").concat(s(m),"\u3067\u3059\u3002");return a+="\u53ce\u9332\u66f2\u306f\u3001".concat(t.tracks.map((function(e){return e.name})).join(", "),"\u3067\u3059\u3002"),null===(e=document.querySelector('meta[name="description"]'))||void 0===e||e.setAttribute("content",a),function(){var e;return null===(e=document.querySelector('meta[name="description"]'))||void 0===e?void 0:e.setAttribute("content","\u97f3\u697d\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u914d\u4fe1\u4e2d\u306e\u30b2\u30fc\u30e0\u97f3\u697d\u306e\u30dd\u30fc\u30bf\u30eb\u30b5\u30a4\u30c8")}}),[t,m,d]);var p=Object(l.useRef)(!0),f=function(e){if(p.current){var r=new Ot({linkUrl:"".concat(n.pathname).concat(n.search),tracks:t.tracks,dispatch:a});a({type:"SET_PLAYER",player:r}),p.current=!1}console.log("dispatch PLAY"),a({type:"PLAY",no:e})},b=Q.a.meanBy(t.tracks,(function(e){return e.popularity})),v="";return t.appleMusicAlbum?v="Apple Music":t.itunesAlbum?v="iTunes":t.spotifyAlbum&&(v="Spotify"),u.a.createElement(ut.a,{component:st.a,style:{maxWidth:"600px"}},u.a.createElement(mt.a,{size:"small"},u.a.createElement(dt.a,null,u.a.createElement(pt.a,null,u.a.createElement(ft.a,{align:"center",colSpan:2,style:{border:"none"}},u.a.createElement(q.a,{container:!0,justify:"center",alignItems:"center"},u.a.createElement(J,{title:"",src:t.artworkL.url,width:250,topComponent:u.a.createElement(ye,{favorable_type:"album",favorable_id:t.id,contentWidth:250})})))),u.a.createElement(pt.a,null,u.a.createElement(ft.a,{align:"center",colSpan:2,style:{border:"none"}},t.name)),u.a.createElement(pt.a,null,u.a.createElement(ft.a,{align:"center",colSpan:2,style:{border:"none"}},u.a.createElement(B.a,{color:"textSecondary",variant:"caption"},t.copyright))),u.a.createElement(pt.a,null,u.a.createElement(ft.a,{align:"center",colSpan:2,style:{border:"none"}},"".concat(d,"\u767a\u58f2\u3001").concat(t.totalTracks,"\u66f2\u3001").concat(s(m)))),u.a.createElement(pt.a,null,u.a.createElement(ft.a,{align:"center",colSpan:2,style:{border:"none"}},u.a.createElement(Bt,{album:t}))),u.a.createElement(pt.a,null,u.a.createElement(ft.a,{align:"center",colSpan:2},u.a.createElement(Mt,{album:t}))),u.a.createElement(pt.a,null,u.a.createElement(ft.a,{style:{width:100},align:"center"},"\u8a66\u8074",u.a.createElement(bt.a,{onClickAway:function(){return o(!1)}},u.a.createElement(Et.a,{PopperProps:{disablePortal:!0},onClose:function(){return o(!1)},open:i,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,placement:"top-end",title:v+" \u306e\u30d7\u30ec\u30d3\u30e5\u30fcURL\u306b\u3088\u308b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u8a66\u8074"},u.a.createElement(le.a,{size:"small",onClick:function(){return o(!0)}},u.a.createElement(Be.a,{fontSize:"small"}))))),u.a.createElement(ft.a,null,"\u30bf\u30a4\u30c8\u30eb"))),u.a.createElement(ht.a,null,t.tracks.map((function(e,t){return u.a.createElement($t,{key:t,track:e,index:t,playAction:f,averagePopularity:b})})))))},Xt=a(45),Qt=function(){var e,t=Object(E.h)().id,a=(e={variables:{id:t}},k.c(M,e)),n=a.loading,r=a.error,c=a.data;if(Object(l.useEffect)((function(){if(c&&c.album){var e=document.title.split("-");document.title="".concat(c.album.name," - ").concat(e[e.length-1].trim()),Xt.a.pageview(window.location.pathname+window.location.search),console.log(window.location.pathname+window.location.search)}return function(){document.title="\u30b2\u30fc\u30e0\u97f3\u697d"}}),[c]),r)return u.a.createElement("div",null,r.message);var i=u.a.createElement(u.a.Fragment,null);if(!n&&c&&c.album){var o=u.a.createElement(Jt,{album:c.album});i=u.a.createElement(q.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2},u.a.createElement(q.a,{item:!0},o),u.a.createElement(q.a,{item:!0},u.a.createElement(lt,null)))}return u.a.createElement(q.a,{container:!0,spacing:1,direction:"column",justify:"center",alignItems:"center"},u.a.createElement(q.a,{item:!0},i))},Kt=function(){var e=Object(E.h)().id,t=Object(k.c)(T,{variables:{id:e}}),a=t.error,n=t.data;if(Object(l.useEffect)((function(){if(n&&n.artist){var e,t=document.title.split("-");document.title="".concat(n.artist.name," - ").concat(t[t.length-1].trim());var a="".concat(n.artist.name,"\u3055\u3093\u306e\u30b2\u30fc\u30e0\u97f3\u697d\u30a2\u30eb\u30d0\u30e0\u4e00\u89a7\u3067\u3059\u3002");null===(e=document.querySelector('meta[name="description"]'))||void 0===e||e.setAttribute("content",a),Xt.a.pageview(window.location.pathname+window.location.search),console.log(window.location.pathname+window.location.search)}return function(){var e;document.title="\u30b2\u30fc\u30e0\u97f3\u697d",null===(e=document.querySelector('meta[name="description"]'))||void 0===e||e.setAttribute("content","\u97f3\u697d\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u914d\u4fe1\u4e2d\u306e\u30b2\u30fc\u30e0\u97f3\u697d\u306e\u30dd\u30fc\u30bf\u30eb\u30b5\u30a4\u30c8")}}),[n]),a)return u.a.createElement("div",null,a.message);var r=u.a.createElement(u.a.Fragment,null);return n&&n.artist&&(r=u.a.createElement(J,{title:n.artist.name,src:n.artist.artworkL.url,width:270,topComponent:u.a.createElement(ye,{favorable_type:"artist",favorable_id:n.artist.id,contentWidth:270})})),u.a.createElement(q.a,{container:!0,spacing:2,direction:"column",justify:"center",alignItems:"center"},r,u.a.createElement(q.a,{item:!0},u.a.createElement(Le,null)))},Vt=a(202),Zt=a(222),ea=function(){var e,t=Object(l.useState)(u.a.createElement(u.a.Fragment,null)),a=Object(h.a)(t,2),n=a[0],r=a[1],c=Object(l.useState)(""),i=Object(h.a)(c,2),o=i[0],s=i[1],m=Object(l.useState)(""),d=Object(h.a)(m,2),p=d[0],f=d[1],b=(e={update:function(e,t){t.data.signin.error?r(u.a.createElement(Zt.a,{severity:"error"},t.data.signin.error)):r(u.a.createElement(Zt.a,{severity:"success"},"\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3057\u305f"))},variables:{input:{username:o,password:p}}},k.b(W,e)),E=Object(h.a)(b,1)[0];return u.a.createElement(q.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center"},u.a.createElement("form",{autoComplete:"off"},u.a.createElement("div",null,u.a.createElement(Oe.a,null,u.a.createElement(Se.a,null,"\u30e6\u30fc\u30b6\u30fc\u540d"),u.a.createElement(Vt.a,{value:o,onChange:function(e){return s(e.target.value||"")}}))),u.a.createElement("div",null,u.a.createElement(Oe.a,null,u.a.createElement(Se.a,null,"\u30d1\u30b9\u30ef\u30fc\u30c9"),u.a.createElement(Vt.a,{value:p,onChange:function(e){return f(e.target.value||"")},type:"password"}))),u.a.createElement("div",null,u.a.createElement(St.a,{type:"submit",onClick:function(e){e.preventDefault(),E()},variant:"contained"},"Signin")),u.a.createElement("div",null,n)))},ta=function(){var e=Object(l.useState)(!0),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(l.useState)(u.a.createElement(u.a.Fragment,null)),c=Object(h.a)(r,2),i=c[0],o=c[1],s=Object(l.useState)(""),m=Object(h.a)(s,2),d=m[0],p=m[1],f=Object(l.useState)(""),b=Object(h.a)(f,2),E=b[0],v=b[1],y=Object(l.useState)(""),g=Object(h.a)(y,2),w=g[0],j=g[1],O=Object(l.useState)(""),S=Object(h.a)(O,2),A=S[0],x=S[1],P=Object(l.useState)({oldPassword:w}),C=Object(h.a)(P,2),I=C[0],N=C[1],F=Object(l.useContext)(ve),M=F.state;F.dispatch;Object(l.useEffect)((function(){M.user&&a&&(n(!1),p(M.user.name),v(M.user.username),M.user&&(console.log({id:M.user.id}),console.log({role:M.user.role.allowedActions})))}),[M,a]);var U,T=(U={update:function(e,t){t.data.updateMe.error?o(u.a.createElement(Zt.a,{severity:"error"},t.data.updateMe.error)):o(u.a.createElement(Zt.a,{severity:"success"},"\u66f4\u65b0\u3057\u307e\u3057\u305f"))},variables:{input:I}},k.b(R,U)),L=Object(h.a)(T,1)[0];return u.a.createElement(q.a,{container:!0,spacing:1,direction:"row",justify:"center",alignItems:"center"},u.a.createElement("form",{autoComplete:"off"},u.a.createElement("div",null,u.a.createElement(Oe.a,null,u.a.createElement(Se.a,null,"\u540d\u524d"),u.a.createElement(Vt.a,{value:d,onChange:function(e){p(e.target.value||""),N(Object($.a)({},I,{name:e.target.value||""}))}}))),u.a.createElement("div",null,u.a.createElement(Oe.a,null,u.a.createElement(Se.a,null,"\u30e6\u30fc\u30b6\u30fc\u540d"),u.a.createElement(Vt.a,{value:E,onChange:function(e){v(e.target.value||""),N(Object($.a)({},I,{username:e.target.value||""}))}}))),u.a.createElement("div",null,u.a.createElement(Oe.a,null,u.a.createElement(Se.a,null,"\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9"),u.a.createElement(Vt.a,{value:A,onChange:function(e){x(e.target.value||""),N(Object($.a)({},I,{newPassword:e.target.value||""}))},type:"password"}))),u.a.createElement("div",null,u.a.createElement(Oe.a,{required:!0},u.a.createElement(Se.a,null,"\u53e4\u3044\u30d1\u30b9\u30ef\u30fc\u30c9"),u.a.createElement(Vt.a,{value:w,onChange:function(e){j(e.target.value||""),N(Object($.a)({},I,{oldPassword:e.target.value||""}))},type:"password"}))),u.a.createElement("div",null,u.a.createElement(St.a,{type:"submit",onClick:function(e){e.preventDefault(),L()},variant:"contained"},"Update")),u.a.createElement("div",null,i)))},aa=a(219),na=a(128),ra=a.n(na),ca=a(127),ia=a.n(ca),oa=a(98),la=a.n(oa),ua=Object(Ut.a)((function(e){return{"@keyframes loading-icon-spin":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},loadingIcon:{height:35,width:35,animationName:"$loading-icon-spin",animationDuration:"2000ms",animationIterationCount:"infinite",animationTimingFunction:"linear"}}})),sa=function(){var e=Object(l.useContext)(Ft),t=e.state,a=e.dispatch,n=ua(),r=u.a.createElement(u.a.Fragment,null),c=u.a.createElement(le.a,{color:"inherit",onClick:function(){return a({type:"NEXT_PLAY"})}},u.a.createElement(la.a,{fontSize:"large"}));if(t.loadingStatus===oe.Loading)c=r=u.a.createElement(le.a,{"aria-label":"loading",disabled:!0},u.a.createElement(ia.a,{className:n.loadingIcon}));else switch(t.playbackStatus){case ie.None:r=u.a.createElement(le.a,{color:"inherit",disabled:!0},u.a.createElement(Lt.a,{fontSize:"large"})),c=u.a.createElement(le.a,{color:"inherit",disabled:!0},u.a.createElement(la.a,{fontSize:"large"}));break;case ie.Play:r=u.a.createElement(le.a,{color:"inherit",onClick:function(){return a({type:"PAUSE"})}},u.a.createElement(ra.a,{fontSize:"large"}));break;case ie.Pause:r=u.a.createElement(le.a,{color:"inherit",onClick:function(){return a({type:"PLAY"})}},u.a.createElement(Lt.a,{fontSize:"large"}));break;case ie.Stop:r=u.a.createElement(le.a,{color:"inherit",onClick:function(){return a({type:"PLAY",no:0})}},u.a.createElement(Lt.a,{fontSize:"large"}))}var i=u.a.createElement(u.a.Fragment,null),o=u.a.createElement(u.a.Fragment,null);if(t.player.tracks[t.currentNo]){var s,m=t.player.tracks[t.currentNo];(null===(s=m.artworkM)||void 0===s?void 0:s.url)&&(i=u.a.createElement(J,{linkUrl:"".concat(t.player.linkUrl,"#").concat(m.id),title:"",src:m.artworkM.url,width:40})),o=u.a.createElement(B.a,{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variant:"caption",component:"p"},m.name)}return u.a.createElement(q.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},u.a.createElement(q.a,{item:!0,xs:5},u.a.createElement(q.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},u.a.createElement(q.a,{item:!0,xs:1}),u.a.createElement(q.a,{item:!0,xs:3},i),u.a.createElement(q.a,{item:!0,xs:1}),u.a.createElement(q.a,{item:!0,xs:7},o))),u.a.createElement(q.a,{item:!0,xs:2},u.a.createElement(q.a,{container:!0,justify:"center",alignItems:"center"},u.a.createElement(q.a,{item:!0},r))),u.a.createElement(q.a,{item:!0,xs:2},u.a.createElement(q.a,{container:!0,justify:"center",alignItems:"center"},u.a.createElement(q.a,{item:!0},c))),u.a.createElement(q.a,{item:!0,xs:2}),u.a.createElement(q.a,{item:!0,xs:1}))},ma=function(){return u.a.createElement(We.a,{position:"fixed",color:"secondary",style:{top:"auto",bottom:0}},u.a.createElement(sa,null))},da=a(129),pa=a.n(da),fa=function(){return Object(l.useEffect)((function(){Xt.a.pageview(window.location.pathname+window.location.search),console.log(window.location.pathname+window.location.search)}),[]),u.a.createElement(_.a,null,u.a.createElement(G.a,null,u.a.createElement(B.a,{variant:"h5",component:"h1"},"\u3053\u306e\u30b5\u30a4\u30c8\u306b\u3064\u3044\u3066"),u.a.createElement(B.a,{variant:"h6",component:"h2"},"\u6982\u8981"),u.a.createElement(B.a,{color:"textSecondary"},"\u97f3\u697d\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u914d\u4fe1\u4e2d\u306e\u30b2\u30fc\u30e0\u97f3\u697d\u3092\u691c\u7d22\u3067\u304d\u308b\u30b5\u30a4\u30c8\u3067\u3059\u3002 \u4eca\u306e\u3068\u3053\u308d\u691c\u7d22\u6a5f\u80fd\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u3002\u4eca\u5f8c\u304a\u6c17\u306b\u5165\u308a\u6a5f\u80fd\u3001\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u4f5c\u6210\u516c\u958b\u6a5f\u80fd\u306a\u3069\u3092\u8ffd\u52a0\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002 \u975e\u5546\u7528\u3067\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002"),u.a.createElement(B.a,{variant:"h6",component:"h2"},"\u76ee\u7684"),u.a.createElement(B.a,{color:"textSecondary"},"\u79c1\u304c\u65b0\u3057\u3044\u30b2\u30fc\u30e0\u97f3\u697d\u306b\u51fa\u4f1a\u3046\u305f\u3081\u306b\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002 \u4eca\u5f8c\u3001\u304a\u6c17\u306b\u5165\u308a\u6a5f\u80fd\u3084\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u6a5f\u80fd\u306a\u3069\u306e\u5b9f\u88c5\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u540c\u58eb\u3067\u30b2\u30fc\u30e0\u97f3\u697d\u3092\u5171\u6709\u3067\u304d\u308b\u3068\u3044\u3044\u3067\u3059\u306d\u3002"),u.a.createElement(B.a,{variant:"h6",component:"h2"},"SNS\u3068\u958b\u767a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8"),u.a.createElement(le.a,{onClick:function(){return window.open("https://twitter.com/vgm_net")},edge:"start",size:"small",color:"inherit","aria-label":"menu"},u.a.createElement(qt.a,null)),u.a.createElement(le.a,{onClick:function(){return window.open("https://github.com/users/himanushi/projects/2")},edge:"start",size:"small",color:"inherit","aria-label":"menu"},u.a.createElement(pa.a,null))))},ba=function(){var e,t=k.c(D,e).data,a=Object(l.useContext)(ve),n=a.state,r=a.dispatch;return Object(l.useEffect)((function(){null===n.user&&t&&t.me&&r({type:"SET_USER",user:t.me})}),[t,n.user,r]),u.a.createElement(u.a.Fragment,null)},Ea=function(){return u.a.createElement(b.a,null,u.a.createElement(Qe.a,{client:it},u.a.createElement(he,null,u.a.createElement(Nt,null,u.a.createElement(ba,null),u.a.createElement(Xe,null),u.a.createElement(ma,null),u.a.createElement(aa.a,{style:{flexGrow:1}},u.a.createElement(q.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2},u.a.createElement(q.a,{item:!0},u.a.createElement($e.a,null)),u.a.createElement(q.a,{item:!0},u.a.createElement(E.c,null,u.a.createElement(E.a,{exact:!0,path:"/",component:Le}),u.a.createElement(E.a,{exact:!0,path:"/artists",component:lt}),u.a.createElement(E.a,{exact:!0,path:"/artists/:id",component:Kt}),u.a.createElement(E.a,{exact:!0,path:"/albums",component:Le}),u.a.createElement(E.a,{exact:!0,path:"/albums/:id",component:Qt}),u.a.createElement(E.a,{exact:!0,path:"/signin",component:ea}),u.a.createElement(E.a,{exact:!0,path:"/me",component:ta}),u.a.createElement(E.a,{exact:!0,path:"/about",component:fa}))),u.a.createElement(q.a,{item:!0},u.a.createElement($e.a,null))))))))},ha=Object(d.a)({palette:{type:"dark",primary:{main:"#222222"},secondary:{main:"#4AC6D2"}},typography:{fontFamily:['"Noto Sans JP"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}}),va=function(){return u.a.createElement(p.a,{theme:ha},u.a.createElement(f.a,null),u.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Noto+Sans+JP",rel:"stylesheet"}),u.a.createElement(Ea,null))},ya=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ga(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ka=function(){return Object(l.useEffect)((function(){Xt.a.initialize("UA-84910533-3"),Xt.a.pageview(window.location.pathname+window.location.search),console.log(window.location.pathname+window.location.search)}),[]),u.a.createElement(va,null)};[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some((function(e){return navigator.userAgent.match(e)}))?function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ya?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ga(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ga(t,e)}))}}():"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),m.a.render(u.a.createElement(ka,null),document.querySelector("#app"))}},[[142,1,2]]]);
//# sourceMappingURL=main.8094d641.chunk.js.map