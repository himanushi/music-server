{"version":3,"sources":["graphql/types.d.tsx","components/image/ImageComponent.tsx","components/imageCard/ImageCardComponent.tsx","hooks/useParameters.ts","layouts/album/item/AlbumItemLayout.tsx","hooks/playerContext.tsx","components/pagination/paginationComponent.tsx","layouts/album/list/AlbumsLayout.tsx","layouts/app/Bar.tsx","layouts/app/client.ts","layouts/artist/item/ArtistItemLayout.tsx","layouts/artist/list/ArtistsLayout.tsx","components/player/PreviewPlayer.ts","components/player/ShareButtonComponent.tsx","components/player/PreviewPlayerComponent.tsx","layouts/album/info/AlbumInfoLayout.tsx","layouts/artist/info/ArtistInfoLayout.tsx","layouts/user/signin/UserSigninLayout.tsx","layouts/user/me/UserMeLayout.tsx","layouts/player/PreviewPlayerLayout.tsx","layouts/app/PlayerBar.tsx","layouts/app/Root.tsx","layouts/app/RootStyle.tsx","layouts/app/serviceWorker.ts","layouts/app/App.tsx","index.tsx"],"names":["AlbumsQueryOrderEnum","ArtistsQueryOrderEnum","SortEnum","StatusEnum","AlbumDocument","gql","AlbumsDocument","ArtistDocument","ArtistsDocument","MeDocument","UpdateMeDocument","SigninDocument","ImageComponent","className","src","title","width","process","CardMedia","image","style","height","ImageCardComponent","link","linkUrl","component","Link","to","React","createElement","Grid","container","item","xs","direction","justify","alignItems","textDecoration","children","Card","position","CardActionArea","left","bottom","componentInImage","CardContent","padding","Typography","overflow","textOverflow","whiteSpace","variant","color","ParameterPrefixKeys","album","artist","ParameterKeys","useParameters","prefix","location","useLocation","params","URLSearchParams","search","prefixKey","getUniqueValues","key","value","get","values","split","uniqueValues","Set","forEach","add","Array","from","customizer","objValue","srcValue","_","isArray","concat","parameters","test","merge","conditions","artists","id","albums","tracks","status","mergeWith","length","sort","order","type","PlaybackStatus","LoadingStatus","AlbumItemLayout","history","useHistory","set","borderRadius","fontSize","lineHeight","textAlign","background","serviceIcons","appleMusicAlbum","push","backgroundColor","itunesAlbum","spotifyAlbum","Pending","Ignore","name","artworkM","url","toString","PaginationComponent","no","offset","limit","fetchMore","useState","prevComponent","setPrevComponent","alreadyFetch","setAlreadyFetch","isFetch","onEnter","variables","cursor","updateQuery","prev","fetchMoreResult","items","AlbumsLayout","baseOptions","setOrder","fetchPolicy","ApolloReactHooks","error","data","_order","message","content","map","i","spacing","FormControl","minWidth","InputLabel","Select","labelId","onChange","event","_child","target","sortType","pathname","label","MenuItem","HideOnScroll","props","window","trigger","useScrollTrigger","undefined","Slide","appear","in","Bar","AppBar","Toolbar","IconButton","edge","size","aria-label","margin","httpLink","HttpLink","uri","credentials","headersLink","ApolloLink","operation","forward","errorLink","onError","graphQLErrors","networkError","locations","path","console","log","ApolloClient","cache","InMemoryCache","dataIdFromObject","object","ArtistItemLayout","ArtistsLayout","PreviewPlayer","urls","dispatch","playlist","currentPlaybackNo","this","Howl","html5","preload","autoplay","onend","autoNextPlay","state","seek","play","stopAndPlay","nextNo","stopNo","playNo","stop","pause","ShareButtonComponent","contents","theme","createMuiTheme","palette","primary","red","Button","href","appleMusicId","blue","green","spotifyId","PlayerContext","createContext","initialState","player","currentNo","currentTrackId","playbackStatus","None","loadingStatus","PlayerProvider","useReducer","action","Stop","Play","nextPlay","Pause","Loading","Done","Provider","PreviewPlayerComponent","useContext","ms","track","durationMs","reduce","accumulator","currentValue","Intl","DateTimeFormat","year","formatToParts","Date","releaseDate","literal","releaseYear","initPlayer","useRef","TableContainer","Paper","Table","TableHead","TableRow","TableCell","align","colSpan","border","artworkL","totalTracks","seconds","parseInt","toFixed","minutes","hours","days","timeConversion","TableBody","star","popularity","durationTime","setSeconds","duration","toISOString","substr","onClick","current","_player","previewUrl","trackNumber","AlbumInfoLayout","useParams","loading","album_content","ArtistInfoLayout","useQuery","UserSigninLayout","notification","setNotification","username","setUsername","password","setPassword","update","response","signin","Alert","severity","input","autoComplete","Input","e","preventDefault","UserMeLayout","setName","oldPassword","setOldPassword","newPassword","setNewPassword","setInput","me","role","allowedActions","useUpdateMeMutation","updateMe","required","PreviewPlayerLayout","playbackButton","disabled","PlayerBar","top","RootStyleLayout","client","paddingBottom","exact","typography","fontFamily","join","ThemeProvider","CssBaseline","rel","Root","Boolean","hostname","match","App","RootStyle","navigator","serviceWorker","ready","then","registration","unregister","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.905c6666.chunk.js","sourcesContent":["import gql from 'graphql-tag';\nimport * as ApolloReactCommon from '@apollo/react-common';\nimport * as ApolloReactHooks from '@apollo/react-hooks';\nexport type Maybe<T> = T | null;\n/** All built-in and custom scalars, mapped to their actual values */\nexport type Scalars = {\n  ID: string;\n  String: string;\n  Boolean: boolean;\n  Int: number;\n  Float: number;\n  /** An ISO 8601-encoded datetime */\n  ISO8601DateTime: any;\n  /** 正の整数 */\n  PositiveNumber: any;\n  /** Table id, hex Timestamp, ID */\n  TTID: any;\n};\n\n/** アルバム */\nexport type Album = {\n   __typename?: 'Album';\n  /** Apple Music アルバム */\n  appleMusicAlbum?: Maybe<AppleMusicAlbum>;\n  /** 大型アートワーク */\n  artworkL: Artwork;\n  /** 中型アートワーク */\n  artworkM: Artwork;\n  /** 追加日 */\n  createdAt: Scalars['ISO8601DateTime'];\n  /** ID */\n  id: Scalars['TTID'];\n  /** iTunes アルバム */\n  itunesAlbum?: Maybe<AppleMusicAlbum>;\n  /** タイトル */\n  name: Scalars['String'];\n  /** 発売日 */\n  releaseDate: Scalars['ISO8601DateTime'];\n  /** Spotify アルバム */\n  spotifyAlbum?: Maybe<SpotifyAlbum>;\n  /** ステータス */\n  status: StatusEnum;\n  /** トラック数 */\n  totalTracks: Scalars['PositiveNumber'];\n  /** トラック */\n  tracks: Array<Track>;\n};\n\nexport type AlbumsConditionsInputObject = {\n  /** アーティストID */\n  artists?: Maybe<IdInputObject>;\n  /** 表示ステータス */\n  status?: Maybe<Array<StatusEnum>>;\n};\n\nexport enum AlbumsQueryOrderEnum {\n  /** 追加順 */\n  New = 'NEW',\n  /** 発売日順 */\n  Release = 'RELEASE',\n  /** 人気順 */\n  Popularity = 'POPULARITY'\n}\n\nexport type AlbumsSortInputObject = {\n  /** 並び順対象 */\n  order?: Maybe<AlbumsQueryOrderEnum>;\n  /** 並び順 */\n  type?: Maybe<SortEnum>;\n};\n\n/** Apple Music アルバム */\nexport type AppleMusicAlbum = {\n   __typename?: 'AppleMusicAlbum';\n  /** Apple Music ID */\n  appleMusicId: Scalars['String'];\n  /** ID */\n  id: Scalars['TTID'];\n  /** タイトル */\n  name: Scalars['String'];\n};\n\n/** Apple Music アーティスト */\nexport type AppleMusicArtist = {\n   __typename?: 'AppleMusicArtist';\n  /** Apple Music ID */\n  appleMusicId: Scalars['String'];\n  /** ID */\n  id: Scalars['TTID'];\n  /** 名前 */\n  name: Scalars['String'];\n};\n\n/** アーティスト */\nexport type Artist = {\n   __typename?: 'Artist';\n  /** 関連アルバム */\n  albums?: Maybe<Array<Album>>;\n  /** Apple Music アーティスト */\n  appleMusicArtists?: Maybe<Array<AppleMusicArtist>>;\n  /** 大型アートワーク */\n  artworkL: Artwork;\n  /** 中型アートワーク */\n  artworkM: Artwork;\n  /** 追加日 */\n  createdAt: Scalars['ISO8601DateTime'];\n  /** ID */\n  id: Scalars['TTID'];\n  /** 名前 */\n  name: Scalars['String'];\n  /** 発売日 */\n  releaseDate: Scalars['ISO8601DateTime'];\n  /** Spotify アーティスト */\n  spotifyArtists?: Maybe<Array<SpotifyArtist>>;\n  /** ステータス */\n  status: StatusEnum;\n  /** 関連曲 */\n  tracks?: Maybe<Array<Track>>;\n};\n\nexport type ArtistsConditionsInputObject = {\n  /** アルバムID */\n  albums?: Maybe<IdInputObject>;\n  /** 表示ステータス */\n  status?: Maybe<Array<StatusEnum>>;\n};\n\nexport enum ArtistsQueryOrderEnum {\n  /** 名前順 */\n  Name = 'NAME',\n  /** 追加順 */\n  New = 'NEW',\n  /** 人気順 */\n  Popularity = 'POPULARITY'\n}\n\nexport type ArtistsSortInputObject = {\n  /** ソート対象 */\n  order?: Maybe<ArtistsQueryOrderEnum>;\n  /** 並び順 */\n  type?: Maybe<SortEnum>;\n};\n\n/** アートワーク */\nexport type Artwork = {\n   __typename?: 'Artwork';\n  /** 高さ */\n  height?: Maybe<Scalars['PositiveNumber']>;\n  /** URL */\n  url?: Maybe<Scalars['String']>;\n  /** 幅 */\n  width?: Maybe<Scalars['PositiveNumber']>;\n};\n\n/** Autogenerated input type of ChangeStatus */\nexport type ChangeStatusInput = {\n  /** 変更したいアーティストID */\n  artistId?: Maybe<Scalars['TTID']>;\n  /** 変更したいアルバムID */\n  albumId?: Maybe<Scalars['TTID']>;\n  /** 変更したいトラックID */\n  trackId?: Maybe<Scalars['TTID']>;\n  /** 変更したいステータス */\n  status: StatusEnum;\n  /** true の場合は関連のステータスは変更しない。デフォルトは false。アーティスト限定 */\n  only?: Maybe<Scalars['Boolean']>;\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated return type of ChangeStatus */\nexport type ChangeStatusPayload = {\n   __typename?: 'ChangeStatusPayload';\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n  error?: Maybe<Scalars['String']>;\n  /** 変更されたステータスを持ったモデル */\n  model?: Maybe<ModelHasStatusUnion>;\n};\n\n/** Autogenerated input type of ClearCache */\nexport type ClearCacheInput = {\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated return type of ClearCache */\nexport type ClearCachePayload = {\n   __typename?: 'ClearCachePayload';\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n  error?: Maybe<Scalars['String']>;\n  results?: Maybe<Array<Scalars['String']>>;\n};\n\n/** Autogenerated input type of CompactAlbum */\nexport type CompactAlbumInput = {\n  /** 統合後のアルバム名。 */\n  name: Scalars['String'];\n  /** 統合したいアルバムID。Apple Music アルバムのみ統合される。指定した順番通りに統合する。 */\n  albumIdsForAppleMusic?: Maybe<Array<Scalars['TTID']>>;\n  /** 統合したいアルバムID。Spotify アルバムのみ統合される。指定した順番通りに統合する。 */\n  albumIdsForSpotify?: Maybe<Array<Scalars['TTID']>>;\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated return type of CompactAlbum */\nexport type CompactAlbumPayload = {\n   __typename?: 'CompactAlbumPayload';\n  /** 統合されたアルバム */\n  album?: Maybe<Album>;\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n  error?: Maybe<Scalars['String']>;\n};\n\n/** カレントユーザー */\nexport type CurrentUser = {\n   __typename?: 'CurrentUser';\n  /** ID */\n  id: Scalars['TTID'];\n  /** 名前 */\n  name: Scalars['String'];\n  /** ロール */\n  role: Role;\n  /** ユーザー名 */\n  username: Scalars['String'];\n};\n\nexport type CursorInputObject = {\n  offset?: Maybe<Scalars['Int']>;\n  limit?: Maybe<Scalars['PositiveNumber']>;\n};\n\n\nexport type IdInputObject = {\n  /** ID */\n  id?: Maybe<Array<Scalars['TTID']>>;\n};\n\n/** Autogenerated input type of MixAlbum */\nexport type MixAlbumInput = {\n  /** 混合したいアルバムID */\n  albumIds: Array<Scalars['TTID']>;\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated return type of MixAlbum */\nexport type MixAlbumPayload = {\n   __typename?: 'MixAlbumPayload';\n  /** 混合されたアルバム */\n  album?: Maybe<Album>;\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n  error?: Maybe<Scalars['String']>;\n};\n\n/** ステータスをもつモデルのいずれか */\nexport type ModelHasStatusUnion = Album | Artist | Track;\n\nexport type Mutation = {\n   __typename?: 'Mutation';\n  /** ステータス変更。関連するアルバム, トラック, 各音楽サービスアルバム、各音楽サービストラックも同じステータスで更新される。 */\n  changeStatus?: Maybe<ChangeStatusPayload>;\n  /** 検索結果キャッシュをリセットする */\n  clearCache?: Maybe<ClearCachePayload>;\n  /** 複数アルバムを単一アルバムに統合する。統合前の複数アルバムは全て IGNORE される。 */\n  compactAlbum?: Maybe<CompactAlbumPayload>;\n  /**\n   * アルバムを混合する。\n   * 同じアルバムのはずが各音楽サービスで別のアルバムと認識される場合がある。\n   * その場合に使用する。曲数が多いアルバムを正とする。\n   */\n  mixAlbum?: Maybe<MixAlbumPayload>;\n  /** サインイン */\n  signin?: Maybe<SigninPayload>;\n  /** 統合したアルバムを元に戻す。統合された単一アルバムは削除される。 */\n  uncompactAlbum?: Maybe<UncompactAlbumPayload>;\n  /** アルバムの混合を解除する。アルバムと曲数に相違がある音楽サービスアルバムを分離する。 */\n  unmixAlbum?: Maybe<UnmixAlbumPayload>;\n  /** カレントユーザー情報更新 */\n  updateMe?: Maybe<UpdateMePayload>;\n  /** アルバムを最新の状態にする */\n  upsertAlbum?: Maybe<UpsertAlbumPayload>;\n  /** アーティストを最新の状態にする */\n  upsertArtist?: Maybe<UpsertArtistPayload>;\n};\n\n\nexport type MutationChangeStatusArgs = {\n  input: ChangeStatusInput;\n};\n\n\nexport type MutationClearCacheArgs = {\n  input: ClearCacheInput;\n};\n\n\nexport type MutationCompactAlbumArgs = {\n  input: CompactAlbumInput;\n};\n\n\nexport type MutationMixAlbumArgs = {\n  input: MixAlbumInput;\n};\n\n\nexport type MutationSigninArgs = {\n  input: SigninInput;\n};\n\n\nexport type MutationUncompactAlbumArgs = {\n  input: UncompactAlbumInput;\n};\n\n\nexport type MutationUnmixAlbumArgs = {\n  input: UnmixAlbumInput;\n};\n\n\nexport type MutationUpdateMeArgs = {\n  input: UpdateMeInput;\n};\n\n\nexport type MutationUpsertAlbumArgs = {\n  input: UpsertAlbumInput;\n};\n\n\nexport type MutationUpsertArtistArgs = {\n  input: UpsertArtistInput;\n};\n\n\nexport type Query = {\n   __typename?: 'Query';\n  /** アルバム情報取得 */\n  album?: Maybe<Album>;\n  /** アルバム一覧取得 */\n  albums: Array<Album>;\n  /** アーティスト取得 */\n  artist?: Maybe<Artist>;\n  /** アーティスト一覧取得 */\n  artists: Array<Artist>;\n  /** カレントユーザー情報取得 */\n  me: CurrentUser;\n};\n\n\nexport type QueryAlbumArgs = {\n  id: Scalars['TTID'];\n};\n\n\nexport type QueryAlbumsArgs = {\n  cursor?: Maybe<CursorInputObject>;\n  sort?: Maybe<AlbumsSortInputObject>;\n  conditions?: Maybe<AlbumsConditionsInputObject>;\n};\n\n\nexport type QueryArtistArgs = {\n  id: Scalars['TTID'];\n};\n\n\nexport type QueryArtistsArgs = {\n  cursor?: Maybe<CursorInputObject>;\n  sort?: Maybe<ArtistsSortInputObject>;\n  conditions?: Maybe<ArtistsConditionsInputObject>;\n};\n\n/** ロール */\nexport type Role = {\n   __typename?: 'Role';\n  /** 出来ること一覧 */\n  allowedActions: Array<Scalars['String']>;\n  /** 説明 */\n  description: Scalars['String'];\n  /** ID */\n  id: Scalars['TTID'];\n  /** 名前 */\n  name: Scalars['String'];\n};\n\n/** Autogenerated input type of Signin */\nexport type SigninInput = {\n  username?: Maybe<Scalars['String']>;\n  password?: Maybe<Scalars['String']>;\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated return type of Signin */\nexport type SigninPayload = {\n   __typename?: 'SigninPayload';\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n  error?: Maybe<Scalars['String']>;\n  user?: Maybe<User>;\n};\n\nexport enum SortEnum {\n  /** 昇順 */\n  Asc = 'ASC',\n  /** 降順 */\n  Desc = 'DESC'\n}\n\n/** Spotify アルバム */\nexport type SpotifyAlbum = {\n   __typename?: 'SpotifyAlbum';\n  /** ID */\n  id: Scalars['TTID'];\n  /** タイトル */\n  name: Scalars['String'];\n  /** Spotify ID */\n  spotifyId: Scalars['String'];\n};\n\n/** Spotify アーティスト */\nexport type SpotifyArtist = {\n   __typename?: 'SpotifyArtist';\n  /** ID */\n  id: Scalars['TTID'];\n  /** 名前 */\n  name: Scalars['String'];\n  /** Spotify ID */\n  spotifyId: Scalars['String'];\n};\n\nexport enum StatusEnum {\n  /** 保留 : デフォルトの検索結果に表示されない */\n  Pending = 'PENDING',\n  /** 有効 : 通常検索結果に表示される */\n  Active = 'ACTIVE',\n  /** 除外 : 検索結果から除外される。最新情報などを取得する際などでも除外される */\n  Ignore = 'IGNORE'\n}\n\n\n/** トラック */\nexport type Track = {\n   __typename?: 'Track';\n  /** ディスク番号 */\n  discNumber: Scalars['PositiveNumber'];\n  /** 再生時間 */\n  durationMs: Scalars['PositiveNumber'];\n  /** ID */\n  id: Scalars['TTID'];\n  /** 国際標準レコーディングコード */\n  isrc: Scalars['String'];\n  /** タイトル */\n  name: Scalars['String'];\n  /** 人気度 */\n  popularity: Scalars['Int'];\n  /** プレビューURL */\n  previewUrl: Scalars['String'];\n  /** ステータス */\n  status: StatusEnum;\n  /** トラック番号 */\n  trackNumber: Scalars['PositiveNumber'];\n};\n\n/** Autogenerated input type of UncompactAlbum */\nexport type UncompactAlbumInput = {\n  /** 統合解除したいアルバムID。Apple Music アルバムのみ解除される。 */\n  albumIdForAppleMusic?: Maybe<Scalars['TTID']>;\n  /** 統合解除したいアルバムID。Spotify アルバムのみ解除される。 */\n  albumIdForSpotify?: Maybe<Scalars['TTID']>;\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated return type of UncompactAlbum */\nexport type UncompactAlbumPayload = {\n   __typename?: 'UncompactAlbumPayload';\n  /** 統合解除されたアルバム */\n  albums?: Maybe<Array<Album>>;\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n  error?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated input type of UnmixAlbum */\nexport type UnmixAlbumInput = {\n  /** 混合解除したいアルバムID */\n  albumId: Scalars['TTID'];\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated return type of UnmixAlbum */\nexport type UnmixAlbumPayload = {\n   __typename?: 'UnmixAlbumPayload';\n  /** 混合されたアルバム */\n  albums?: Maybe<Array<Album>>;\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n  error?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated input type of UpdateMe */\nexport type UpdateMeInput = {\n  name?: Maybe<Scalars['String']>;\n  username?: Maybe<Scalars['String']>;\n  newPassword?: Maybe<Scalars['String']>;\n  oldPassword: Scalars['String'];\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated return type of UpdateMe */\nexport type UpdateMePayload = {\n   __typename?: 'UpdateMePayload';\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n  currentUser?: Maybe<CurrentUser>;\n  error?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated input type of UpsertAlbum */\nexport type UpsertAlbumInput = {\n  /** 指定したアルバムのトラック(ISRC)を含んでいる別音楽サービスのアルバムを一括登録 */\n  albumId?: Maybe<Scalars['TTID']>;\n  /** Apple Music か iTunes のアルバムを登録 */\n  appleMusicId?: Maybe<Scalars['String']>;\n  /** Spotify のアルバムを登録 */\n  spotifyId?: Maybe<Scalars['String']>;\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated return type of UpsertAlbum */\nexport type UpsertAlbumPayload = {\n   __typename?: 'UpsertAlbumPayload';\n  /** 追加されたアルバム */\n  albums?: Maybe<Array<Album>>;\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n  error?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated input type of UpsertArtist */\nexport type UpsertArtistInput = {\n  /**\n   * アーティスト名から全ての音楽サービスのアーティストを登録。登録後、関連アルバム、トラックを全て保存する。\n   * (ありきたりなアーティスト名の場合は関係のないアーティストが登録される可能性があるため注意)\n   */\n  artistName?: Maybe<Scalars['String']>;\n  /** Apple Music のアーティストを登録。登録後、関連アルバム、トラックを全て保存する。 */\n  appleMusicId?: Maybe<Scalars['String']>;\n  /** Spotify のアーティストを登録。登録後、関連アルバム、トラックを全て保存する。 */\n  spotifyId?: Maybe<Scalars['String']>;\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n};\n\n/** Autogenerated return type of UpsertArtist */\nexport type UpsertArtistPayload = {\n   __typename?: 'UpsertArtistPayload';\n  /** 追加されたアーティスト */\n  artists?: Maybe<Array<Artist>>;\n  /** A unique identifier for the client performing the mutation. */\n  clientMutationId?: Maybe<Scalars['String']>;\n  error?: Maybe<Scalars['String']>;\n};\n\n/** ユーザー */\nexport type User = {\n   __typename?: 'User';\n  /** ID */\n  id: Scalars['TTID'];\n  /** 名前 */\n  name: Scalars['String'];\n  /** ユーザー名 */\n  username: Scalars['String'];\n};\n\nexport type AlbumQueryVariables = {\n  id: Scalars['TTID'];\n};\n\n\nexport type AlbumQuery = (\n  { __typename?: 'Query' }\n  & { album?: Maybe<(\n    { __typename?: 'Album' }\n    & Pick<Album, 'id' | 'totalTracks' | 'name' | 'releaseDate'>\n    & { artworkL: (\n      { __typename?: 'Artwork' }\n      & Pick<Artwork, 'url' | 'width' | 'height'>\n    ), artworkM: (\n      { __typename?: 'Artwork' }\n      & Pick<Artwork, 'url' | 'width' | 'height'>\n    ), appleMusicAlbum?: Maybe<(\n      { __typename?: 'AppleMusicAlbum' }\n      & Pick<AppleMusicAlbum, 'id' | 'appleMusicId'>\n    )>, itunesAlbum?: Maybe<(\n      { __typename?: 'AppleMusicAlbum' }\n      & Pick<AppleMusicAlbum, 'id' | 'appleMusicId'>\n    )>, spotifyAlbum?: Maybe<(\n      { __typename?: 'SpotifyAlbum' }\n      & Pick<SpotifyAlbum, 'id' | 'spotifyId'>\n    )>, tracks: Array<(\n      { __typename?: 'Track' }\n      & Pick<Track, 'isrc' | 'name' | 'discNumber' | 'trackNumber' | 'durationMs' | 'previewUrl' | 'popularity'>\n    )> }\n  )> }\n);\n\nexport type AlbumsQueryVariables = {\n  cursor?: Maybe<CursorInputObject>;\n  sort?: Maybe<AlbumsSortInputObject>;\n  conditions?: Maybe<AlbumsConditionsInputObject>;\n};\n\n\nexport type AlbumsQuery = (\n  { __typename?: 'Query' }\n  & { items: Array<(\n    { __typename?: 'Album' }\n    & Pick<Album, 'id' | 'name' | 'status'>\n    & { artworkM: (\n      { __typename?: 'Artwork' }\n      & Pick<Artwork, 'url' | 'width' | 'height'>\n    ), appleMusicAlbum?: Maybe<(\n      { __typename?: 'AppleMusicAlbum' }\n      & Pick<AppleMusicAlbum, 'id'>\n    )>, itunesAlbum?: Maybe<(\n      { __typename?: 'AppleMusicAlbum' }\n      & Pick<AppleMusicAlbum, 'id'>\n    )>, spotifyAlbum?: Maybe<(\n      { __typename?: 'SpotifyAlbum' }\n      & Pick<SpotifyAlbum, 'id'>\n    )> }\n  )> }\n);\n\nexport type ArtistQueryVariables = {\n  id: Scalars['TTID'];\n};\n\n\nexport type ArtistQuery = (\n  { __typename?: 'Query' }\n  & { artist?: Maybe<(\n    { __typename?: 'Artist' }\n    & Pick<Artist, 'id' | 'name'>\n    & { artworkL: (\n      { __typename?: 'Artwork' }\n      & Pick<Artwork, 'url' | 'width' | 'height'>\n    ) }\n  )> }\n);\n\nexport type ArtistsQueryVariables = {\n  cursor?: Maybe<CursorInputObject>;\n  sort?: Maybe<ArtistsSortInputObject>;\n  conditions?: Maybe<ArtistsConditionsInputObject>;\n};\n\n\nexport type ArtistsQuery = (\n  { __typename?: 'Query' }\n  & { items: Array<(\n    { __typename?: 'Artist' }\n    & Pick<Artist, 'id' | 'name' | 'status'>\n    & { artworkM: (\n      { __typename?: 'Artwork' }\n      & Pick<Artwork, 'url' | 'width' | 'height'>\n    ) }\n  )> }\n);\n\nexport type MeQueryVariables = {};\n\n\nexport type MeQuery = (\n  { __typename?: 'Query' }\n  & { me: (\n    { __typename?: 'CurrentUser' }\n    & Pick<CurrentUser, 'id' | 'name' | 'username'>\n    & { role: (\n      { __typename?: 'Role' }\n      & Pick<Role, 'id' | 'name' | 'description' | 'allowedActions'>\n    ) }\n  ) }\n);\n\nexport type UpdateMeMutationVariables = {\n  input: UpdateMeInput;\n};\n\n\nexport type UpdateMeMutation = (\n  { __typename?: 'Mutation' }\n  & { updateMe?: Maybe<(\n    { __typename?: 'UpdateMePayload' }\n    & Pick<UpdateMePayload, 'error'>\n    & { currentUser?: Maybe<(\n      { __typename?: 'CurrentUser' }\n      & Pick<CurrentUser, 'id' | 'username' | 'name'>\n    )> }\n  )> }\n);\n\nexport type SigninMutationVariables = {\n  input: SigninInput;\n};\n\n\nexport type SigninMutation = (\n  { __typename?: 'Mutation' }\n  & { signin?: Maybe<(\n    { __typename?: 'SigninPayload' }\n    & Pick<SigninPayload, 'error'>\n  )> }\n);\n\n\nexport const AlbumDocument = gql`\n    query Album($id: TTID!) {\n  album(id: $id) {\n    id\n    totalTracks\n    name\n    releaseDate\n    artworkL {\n      url\n      width\n      height\n    }\n    artworkM {\n      url\n      width\n      height\n    }\n    appleMusicAlbum {\n      id\n      appleMusicId\n    }\n    itunesAlbum {\n      id\n      appleMusicId\n    }\n    spotifyAlbum {\n      id\n      spotifyId\n    }\n    tracks {\n      isrc\n      name\n      discNumber\n      trackNumber\n      durationMs\n      previewUrl\n      popularity\n    }\n  }\n}\n    `;\n\n/**\n * __useAlbumQuery__\n *\n * To run a query within a React component, call `useAlbumQuery` and pass it any options that fit your needs.\n * When your component renders, `useAlbumQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useAlbumQuery({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useAlbumQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<AlbumQuery, AlbumQueryVariables>) {\n        return ApolloReactHooks.useQuery<AlbumQuery, AlbumQueryVariables>(AlbumDocument, baseOptions);\n      }\nexport function useAlbumLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<AlbumQuery, AlbumQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<AlbumQuery, AlbumQueryVariables>(AlbumDocument, baseOptions);\n        }\nexport type AlbumQueryHookResult = ReturnType<typeof useAlbumQuery>;\nexport type AlbumLazyQueryHookResult = ReturnType<typeof useAlbumLazyQuery>;\nexport type AlbumQueryResult = ApolloReactCommon.QueryResult<AlbumQuery, AlbumQueryVariables>;\nexport const AlbumsDocument = gql`\n    query Albums($cursor: CursorInputObject, $sort: AlbumsSortInputObject, $conditions: AlbumsConditionsInputObject) {\n  items: albums(cursor: $cursor, sort: $sort, conditions: $conditions) {\n    id\n    name\n    status\n    artworkM {\n      url\n      width\n      height\n    }\n    appleMusicAlbum {\n      id\n    }\n    itunesAlbum {\n      id\n    }\n    spotifyAlbum {\n      id\n    }\n  }\n}\n    `;\n\n/**\n * __useAlbumsQuery__\n *\n * To run a query within a React component, call `useAlbumsQuery` and pass it any options that fit your needs.\n * When your component renders, `useAlbumsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useAlbumsQuery({\n *   variables: {\n *      cursor: // value for 'cursor'\n *      sort: // value for 'sort'\n *      conditions: // value for 'conditions'\n *   },\n * });\n */\nexport function useAlbumsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<AlbumsQuery, AlbumsQueryVariables>) {\n        return ApolloReactHooks.useQuery<AlbumsQuery, AlbumsQueryVariables>(AlbumsDocument, baseOptions);\n      }\nexport function useAlbumsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<AlbumsQuery, AlbumsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<AlbumsQuery, AlbumsQueryVariables>(AlbumsDocument, baseOptions);\n        }\nexport type AlbumsQueryHookResult = ReturnType<typeof useAlbumsQuery>;\nexport type AlbumsLazyQueryHookResult = ReturnType<typeof useAlbumsLazyQuery>;\nexport type AlbumsQueryResult = ApolloReactCommon.QueryResult<AlbumsQuery, AlbumsQueryVariables>;\nexport const ArtistDocument = gql`\n    query Artist($id: TTID!) {\n  artist(id: $id) {\n    id\n    name\n    artworkL {\n      url\n      width\n      height\n    }\n  }\n}\n    `;\n\n/**\n * __useArtistQuery__\n *\n * To run a query within a React component, call `useArtistQuery` and pass it any options that fit your needs.\n * When your component renders, `useArtistQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useArtistQuery({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useArtistQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<ArtistQuery, ArtistQueryVariables>) {\n        return ApolloReactHooks.useQuery<ArtistQuery, ArtistQueryVariables>(ArtistDocument, baseOptions);\n      }\nexport function useArtistLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<ArtistQuery, ArtistQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<ArtistQuery, ArtistQueryVariables>(ArtistDocument, baseOptions);\n        }\nexport type ArtistQueryHookResult = ReturnType<typeof useArtistQuery>;\nexport type ArtistLazyQueryHookResult = ReturnType<typeof useArtistLazyQuery>;\nexport type ArtistQueryResult = ApolloReactCommon.QueryResult<ArtistQuery, ArtistQueryVariables>;\nexport const ArtistsDocument = gql`\n    query Artists($cursor: CursorInputObject, $sort: ArtistsSortInputObject, $conditions: ArtistsConditionsInputObject) {\n  items: artists(cursor: $cursor, sort: $sort, conditions: $conditions) {\n    id\n    name\n    status\n    artworkM {\n      url\n      width\n      height\n    }\n  }\n}\n    `;\n\n/**\n * __useArtistsQuery__\n *\n * To run a query within a React component, call `useArtistsQuery` and pass it any options that fit your needs.\n * When your component renders, `useArtistsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useArtistsQuery({\n *   variables: {\n *      cursor: // value for 'cursor'\n *      sort: // value for 'sort'\n *      conditions: // value for 'conditions'\n *   },\n * });\n */\nexport function useArtistsQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<ArtistsQuery, ArtistsQueryVariables>) {\n        return ApolloReactHooks.useQuery<ArtistsQuery, ArtistsQueryVariables>(ArtistsDocument, baseOptions);\n      }\nexport function useArtistsLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<ArtistsQuery, ArtistsQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<ArtistsQuery, ArtistsQueryVariables>(ArtistsDocument, baseOptions);\n        }\nexport type ArtistsQueryHookResult = ReturnType<typeof useArtistsQuery>;\nexport type ArtistsLazyQueryHookResult = ReturnType<typeof useArtistsLazyQuery>;\nexport type ArtistsQueryResult = ApolloReactCommon.QueryResult<ArtistsQuery, ArtistsQueryVariables>;\nexport const MeDocument = gql`\n    query Me {\n  me {\n    id\n    name\n    username\n    role {\n      id\n      name\n      description\n      allowedActions\n    }\n  }\n}\n    `;\n\n/**\n * __useMeQuery__\n *\n * To run a query within a React component, call `useMeQuery` and pass it any options that fit your needs.\n * When your component renders, `useMeQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useMeQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useMeQuery(baseOptions?: ApolloReactHooks.QueryHookOptions<MeQuery, MeQueryVariables>) {\n        return ApolloReactHooks.useQuery<MeQuery, MeQueryVariables>(MeDocument, baseOptions);\n      }\nexport function useMeLazyQuery(baseOptions?: ApolloReactHooks.LazyQueryHookOptions<MeQuery, MeQueryVariables>) {\n          return ApolloReactHooks.useLazyQuery<MeQuery, MeQueryVariables>(MeDocument, baseOptions);\n        }\nexport type MeQueryHookResult = ReturnType<typeof useMeQuery>;\nexport type MeLazyQueryHookResult = ReturnType<typeof useMeLazyQuery>;\nexport type MeQueryResult = ApolloReactCommon.QueryResult<MeQuery, MeQueryVariables>;\nexport const UpdateMeDocument = gql`\n    mutation UpdateMe($input: UpdateMeInput!) {\n  updateMe(input: $input) {\n    currentUser {\n      id\n      username\n      name\n    }\n    error\n  }\n}\n    `;\nexport type UpdateMeMutationFn = ApolloReactCommon.MutationFunction<UpdateMeMutation, UpdateMeMutationVariables>;\n\n/**\n * __useUpdateMeMutation__\n *\n * To run a mutation, you first call `useUpdateMeMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useUpdateMeMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [updateMeMutation, { data, loading, error }] = useUpdateMeMutation({\n *   variables: {\n *      input: // value for 'input'\n *   },\n * });\n */\nexport function useUpdateMeMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<UpdateMeMutation, UpdateMeMutationVariables>) {\n        return ApolloReactHooks.useMutation<UpdateMeMutation, UpdateMeMutationVariables>(UpdateMeDocument, baseOptions);\n      }\nexport type UpdateMeMutationHookResult = ReturnType<typeof useUpdateMeMutation>;\nexport type UpdateMeMutationResult = ApolloReactCommon.MutationResult<UpdateMeMutation>;\nexport type UpdateMeMutationOptions = ApolloReactCommon.BaseMutationOptions<UpdateMeMutation, UpdateMeMutationVariables>;\nexport const SigninDocument = gql`\n    mutation Signin($input: SigninInput!) {\n  signin(input: $input) {\n    error\n  }\n}\n    `;\nexport type SigninMutationFn = ApolloReactCommon.MutationFunction<SigninMutation, SigninMutationVariables>;\n\n/**\n * __useSigninMutation__\n *\n * To run a mutation, you first call `useSigninMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useSigninMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [signinMutation, { data, loading, error }] = useSigninMutation({\n *   variables: {\n *      input: // value for 'input'\n *   },\n * });\n */\nexport function useSigninMutation(baseOptions?: ApolloReactHooks.MutationHookOptions<SigninMutation, SigninMutationVariables>) {\n        return ApolloReactHooks.useMutation<SigninMutation, SigninMutationVariables>(SigninDocument, baseOptions);\n      }\nexport type SigninMutationHookResult = ReturnType<typeof useSigninMutation>;\nexport type SigninMutationResult = ApolloReactCommon.MutationResult<SigninMutation>;\nexport type SigninMutationOptions = ApolloReactCommon.BaseMutationOptions<SigninMutation, SigninMutationVariables>;","import React from 'react';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nconst ImageComponent = ({\n  className = \"\", src = \"\", title = \"\", width\n}:{\n  className?:string, src?:string, title?:string, width:string|number\n}) => {\n  if(src === \"\") src = `${process.env.PUBLIC_URL}/no_image.png`\n\n  return (\n    <CardMedia\n      className={className}\n      image={src}\n      title={title}\n      style={{ width: width, height: width }}\n    />\n  )\n}\n\nexport default ImageComponent;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport ImageComponent from '../image/ImageComponent'\nimport { Grid, CardActionArea, CardContent, Typography } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\ninterface Image {\n  title: string\n  src?: string | null\n  width: string | number\n  linkUrl?: string\n  componentInImage?: JSX.Element\n}\n\nconst ImageCardComponent = (image:Image) => {\n  const link = image.linkUrl ? { component: Link, to: image.linkUrl } : {}\n\n  return (\n    React.createElement(Grid, {\n      container: true, item: true, xs: true,\n      direction: \"row\", justify: \"center\", alignItems: \"center\",\n      style: { textDecoration: \"none\" },\n      ...link,\n      children: (\n        <Card style={{ width: image.width, position: \"relative\" }}>\n          <CardActionArea>\n            <Grid container style={{ position: \"absolute\", left: \"5px\", bottom: \"5px\" }}>\n              { image.componentInImage ? image.componentInImage : <></> }\n            </Grid>\n            <ImageComponent src={image.src || \"\"} width={image.width} title={image.title}/>\n          </CardActionArea>\n          {\n            image.title === \"\" ? <></> :\n            <CardContent style={{ padding: \"5px 5px\" }}>\n              <Typography style={{\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n                whiteSpace: \"nowrap\"\n              }} variant=\"caption\" color=\"textSecondary\" component=\"p\">\n                {image.title}\n              </Typography>\n            </CardContent>\n          }\n        </Card>\n      )\n    })\n  )\n}\n\nexport default ImageCardComponent\n","import { useLocation } from \"react-router-dom\"\nimport _ from \"lodash\"\n\nexport const ParameterPrefixKeys = {\n  album:  \"b\",\n  artist: \"a\",\n}\n\nexport const ParameterKeys = {\n  keyword:  \"q\",\n  ids:      \"i\",\n  status:   \"s\",\n  order:    \"o\",\n  sortType: \"r\",\n//tag:      \"t\", // いつか実装する\n}\n\nexport type ParameterPrefix = keyof typeof ParameterPrefixKeys;\n\nexport default function useParameters<T>(prefix:ParameterPrefix){\n  const location = useLocation()\n  const params = new URLSearchParams(location.search)\n  const prefixKey = ParameterPrefixKeys[prefix]\n\n  const getUniqueValues = (key:string):string[] => {\n    const value = params.get(key)\n    if(value === null) return []\n\n    // , ではなく - にしている理由は文字化けするからURLセーフな - または _ にする必要あり\n    const values = value.split(\"-\")\n    const uniqueValues = new Set<string>()\n\n    values.forEach((value) => {\n      uniqueValues.add(value)\n    })\n\n    return Array.from(uniqueValues)\n  }\n\n  const customizer = (objValue:any, srcValue:any) => {\n    if (_.isArray(objValue)) {\n      return objValue.concat(srcValue)\n    }\n  }\n\n  let parameters = {}\n\n  // ID\n  getUniqueValues(prefixKey + ParameterKeys.ids).forEach((value) => {\n    switch( true ){\n      case /^art/.test(value):\n        parameters = _.merge(parameters, { conditions: { artists: { id: [value] } } })\n        break;\n      case /^abm/.test(value):\n        parameters = _.merge(parameters, { conditions: { albums: { id: [value] } } })\n        break;\n      case /^trk/.test(value):\n        parameters = _.merge(parameters, { conditions: { tracks: { id: [value] } } })\n        break;\n    }\n  })\n\n  // ステータス\n  let status = { status: [] }\n  getUniqueValues(prefixKey + ParameterKeys.status).forEach((value) => {\n      status = _.mergeWith(status, { status: [value] }, customizer)\n  })\n  if(status.status.length !== 0) {\n    parameters = _.mergeWith(parameters, { conditions: { ...status } })\n  }\n\n  // 並び順対象\n  getUniqueValues(prefixKey + ParameterKeys.order).forEach((value) => {\n    parameters = _.merge(parameters, { sort: { order: value } })\n  })\n\n  // 並び順\n  getUniqueValues(prefixKey + ParameterKeys.sortType).forEach((value) => {\n    parameters = _.merge(parameters, { sort: { type: value } })\n  })\n\n  return parameters as T\n}\n","import React from 'react';\nimport { Album, StatusEnum } from '../../../graphql/types.d';\nimport ImageCardComponent from '../../../components/imageCard/ImageCardComponent';\nimport { Grid } from '@material-ui/core';\nimport { ParameterKeys, ParameterPrefixKeys } from '../../../hooks/useParameters';\nimport { useHistory } from 'react-router-dom';\n\nconst AlbumItemLayout = (\n  { album, width }:\n  { album: Album, width:string|number }\n) => {\n  // クエリパラメータ引き継ぎ\n  let history = useHistory()\n  const params = new URLSearchParams(history.location.search)\n  params.set(ParameterPrefixKeys.artist + ParameterKeys.ids, album.id)\n  const status = params.get(ParameterPrefixKeys.album + ParameterKeys.status)\n  if(status !== null) {\n    params.set(ParameterPrefixKeys.album + ParameterKeys.status, status)\n  }\n\n  const style = {\n    width: \"15px\",\n    height: \"15px\",\n    borderRadius: \"50%\",\n    fontSize: \"10px\",\n    color: \"#fff\",\n    lineHeight: \"15px\",\n    textAlign: \"center\" as \"center\",\n    background: \"#000\",\n  }\n\n  const serviceIcons = []\n  if(album.appleMusicAlbum){\n    serviceIcons.push(<Grid key={1} item style={{...style, backgroundColor: \"#ff2f56\"}}>A</Grid>)\n  }\n  if(album.itunesAlbum){\n    serviceIcons.push(<Grid key={2} item style={{...style, backgroundColor: \"#0070c9\"}}>iT</Grid>)\n  }\n  if(album.spotifyAlbum){\n    serviceIcons.push(<Grid key={3} item style={{...style, backgroundColor: \"#1DB954\"}}>S</Grid>)\n  }\n\n  // ステータスをわかりやすいようにしておく\n  if(album.status === StatusEnum.Pending){\n    serviceIcons.push(<Grid key={10} item style={{...style, color: \"#000\", backgroundColor: \"#FFFF00\"}}>PN</Grid>)\n  } else if (album.status === StatusEnum.Ignore){\n    serviceIcons.push(<Grid key={11} item style={{...style, color: \"#000\",backgroundColor: \"#FF0000\"}}>IG</Grid>)\n  }\n\n  const componentInImage = <>{serviceIcons}</>\n\n  return (\n    <ImageCardComponent\n      title={album.name}\n      src={album.artworkM.url}\n      width={width}\n      linkUrl={`/albums/${album.id}?${params.toString()}`}\n      componentInImage={componentInImage}\n    />\n  )\n}\n\nexport default AlbumItemLayout\n","import React, { useReducer, createContext } from 'react'\nimport PreviewPlayer from '../components/player/PreviewPlayer'\n\ntype ContextValue = {\n  state: StateType\n  dispatch: React.Dispatch<ActionType>\n}\n\nconst PlayerContext = createContext({} as ContextValue)\n\nexport enum PlaybackStatus {\n  None, // 再生不可\n  Play,\n  Pause,\n  Stop,\n}\n\nexport enum LoadingStatus {\n  None,\n  Loading,\n  Done,\n}\n\nconst initialState = {\n  player: new PreviewPlayer({ urls: [], tracks: [] }),\n  currentNo: 0,\n  currentTrackId: \"\",\n  playbackStatus: PlaybackStatus.None,\n  loadingStatus: LoadingStatus.None,\n}\n\nexport type StateType = typeof initialState\nexport type ActionType =\n  | { type: 'SET_PLAYER', player: PreviewPlayer }\n  | { type: 'PLAY', no?: number }\n  | { type: 'NEXT_PLAY' }\n  | { type: 'PAUSE' }\n  | { type: 'STOP' }\n  | { type: 'LOADING_START' }\n  | { type: 'LOADING_DONE' }\n\nconst PlayerProvider = ({ children }:{ children:JSX.Element|JSX.Element[] }) => {\n  // TODO: Reducer 増えたら分離させる\n  const [state, dispatch] = useReducer((state:StateType, action:ActionType):StateType => {\n    switch(action.type) {\n      case 'SET_PLAYER':\n        state.player.stop()\n        return {\n          ...state,\n          player: action.player,\n          playbackStatus: PlaybackStatus.Stop,\n        }\n      case 'PLAY':\n        state.player.play(action.no)\n        return {\n          ...state,\n          playbackStatus: PlaybackStatus.Play,\n          currentNo: action.no || state.currentNo,\n        }\n      case 'NEXT_PLAY':\n        const no = state.player.nextPlay()\n        return {\n          ...state,\n          playbackStatus: PlaybackStatus.Play,\n        }\n      case 'PAUSE':\n        state.player.pause()\n        return {\n          ...state,\n          playbackStatus: PlaybackStatus.Pause,\n        }\n      case 'STOP':\n        state.player.stop()\n        return {\n          ...state,\n          playbackStatus: PlaybackStatus.Play,\n        }\n      case 'LOADING_START':\n        return {\n          ...state,\n          loadingStatus: LoadingStatus.Loading,\n        }\n      case 'LOADING_DONE':\n        return {\n          ...state,\n          loadingStatus: LoadingStatus.Done,\n        }\n      default:\n        return state\n    }\n  }, initialState)\n\n  return <PlayerContext.Provider value={{ state, dispatch }}>{children}</PlayerContext.Provider>\n}\n\nexport default PlayerContext\nexport { PlayerProvider }\n","import React, { useState } from 'react';\nimport { Waypoint } from 'react-waypoint';\n\n// TODO: hasNext とかないのでページ遷移によって再度取得してしまう？\nconst PaginationComponent = (\n  { component, no, offset, limit, fetchMore }:\n  { component:JSX.Element, no:number, offset:number, limit:number, fetchMore:any }\n) => {\n  // 並び替えなどによる内部の component の変更を検知し再度ページネーションする\n  const [prevComponent, setPrevComponent] = useState(component)\n  const [alreadyFetch, setAlreadyFetch] = useState(false)\n  const fetchNo = offset - limit\n  const isFetch = no === fetchNo\n\n  const exeFetchMore = () => fetchMore({\n    variables: {\n      cursor: {\n        offset: offset\n      }\n    },\n    updateQuery: (\n      prev:{ items: any[] },\n      { fetchMoreResult }:{ fetchMoreResult:{ items: any[] } }\n    ) => {\n      if (!fetchMoreResult) return prev;\n      return { ...prev, ...{ items: [...prev.items, ...fetchMoreResult.items] } }\n    }\n  })\n\n  const enterFunction = () => {\n    if(alreadyFetch && prevComponent === component) return\n    setAlreadyFetch(true)\n    setPrevComponent(component)\n    return exeFetchMore()\n  }\n\n  return (\n    <>\n      { component }\n      { isFetch ? <Waypoint onEnter={enterFunction}/> : <></> }\n    </>\n  )\n}\n\nexport default PaginationComponent\n","import React, { useState } from 'react';\nimport { useAlbumsQuery, Album, AlbumsQueryVariables } from '../../../graphql/types.d';\nimport AlbumItemLayout from '../item/AlbumItemLayout';\nimport { Grid, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\nimport PaginationComponent from '../../../components/pagination/paginationComponent';\nimport useParameters, { ParameterKeys, ParameterPrefixKeys } from '../../../hooks/useParameters';\nimport { useHistory } from 'react-router-dom';\n\nconst AlbumsLayout = () => {\n  const [order, setOrder] = useState<string>(\"RELEASE.DESC\")\n  const parameters = useParameters<AlbumsQueryVariables>(\"album\")\n  let history = useHistory()\n  const limit = 50\n  const { error, data, fetchMore } = useAlbumsQuery(\n    {\n      variables: {\n        cursor: {\n          offset: 0,\n          limit: limit,\n        },\n        sort: parameters.sort,\n        conditions: parameters.conditions,\n      },\n      // 戻るボタンで戻っても最初から読み込みが発生しない\n      fetchPolicy: \"cache-first\"\n    }\n  )\n\n  // 並び順初期化\n  const _order = parameters?.sort ? `${parameters?.sort?.order}.${parameters?.sort?.type}` : null\n  if(_order && order !== _order){\n    setOrder(_order)\n  }\n\n  if (error) return <div>{error.message}</div>\n\n  let content:JSX.Element[] = []\n\n  if (data) {\n    content =\n      data.items.map(\n        (item, i) =>\n          <Grid item key={i}>\n            <PaginationComponent\n              component={<AlbumItemLayout album={item as Album} width=\"150px\" />}\n              no={i}\n              offset={data.items.length}\n              limit={limit}\n              fetchMore={fetchMore}\n            />\n          </Grid>\n      )\n  }\n\n  const handleChange = (event: React.ChangeEvent<{\n      name?: string | undefined\n      value: unknown\n  }>, _child: React.ReactNode) => {\n    const sort = event.target.value as string\n    const [order, sortType] = sort.split(\".\")\n    setOrder(sort)\n    const params = new URLSearchParams(history.location.search)\n    params.set(ParameterPrefixKeys.album + ParameterKeys.order, order)\n    params.set(ParameterPrefixKeys.album + ParameterKeys.sortType, sortType)\n    history.push(`${history.location.pathname}?${params.toString()}`)\n  }\n\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      justify=\"center\"\n      alignItems=\"center\"\n      spacing={1}\n    >\n      <Grid item >\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-start\"\n          alignItems=\"flex-start\"\n        >\n          <Grid>\n            <FormControl variant=\"outlined\" style={{minWidth: 150}}>\n              <InputLabel id=\"demo-simple-select-outlined-label\">アルバム表示順</InputLabel>\n              <Select\n                labelId=\"demo-simple-select-outlined-label\"\n                id=\"demo-simple-select-outlined\"\n                value={order}\n                onChange={handleChange}\n                label=\"アルバム表示順\"\n              >\n                <MenuItem value={\"RELEASE.DESC\"}>発売日新しい順</MenuItem>\n                <MenuItem value={\"RELEASE.ASC\"}>発売日古い順</MenuItem>\n                <MenuItem value={\"NEW.DESC\"}>追加日新しい順</MenuItem>\n                <MenuItem value={\"NEW.ASC\"}>追加日古い順</MenuItem>\n                <MenuItem value={\"POPULARITY.DESC\"}>人気順</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"center\"\n          alignItems=\"center\"\n          spacing={1}\n        >\n          {content}\n        </Grid>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default AlbumsLayout;\n","import React from 'react';\nimport { useScrollTrigger, AppBar, Toolbar, Typography, Slide, IconButton, Grid } from '@material-ui/core';\nimport PersonIcon from '@material-ui/icons/Person'\nimport AlbumIcon from '@material-ui/icons/Album'\nimport { Link } from 'react-router-dom';\n\n// ref: https://material-ui.com/components/app-bar/#hide-app-bar\ninterface Props {\n  window?: () => Window;\n  children: React.ReactElement;\n}\n\nconst HideOnScroll = (props: Props) => {\n  const { children, window } = props;\n  const trigger = useScrollTrigger({ target: window ? window() : undefined });\n\n  return (\n    <Slide appear={false} direction=\"down\" in={!trigger}>\n      {children}\n    </Slide>\n  );\n}\n\nconst Bar = () =>\n  <>\n    <HideOnScroll>\n      <AppBar>\n        <Toolbar>\n          <Grid\n            container\n            direction=\"row\"\n            justify=\"flex-start\"\n            alignItems=\"center\"\n            spacing={3}\n          >\n            <Grid item>\n              <Typography variant=\"h6\">ゲーム音楽</Typography>\n            </Grid>\n            <Grid item>\n              <IconButton component={Link} to={`/artists`} edge=\"start\" size=\"small\" color=\"inherit\" aria-label=\"menu\">\n                <PersonIcon />\n              </IconButton>\n            </Grid>\n            <Grid item>\n              <IconButton component={Link} to={`/albums`} edge=\"start\" size=\"small\" color=\"inherit\" aria-label=\"menu\">\n                <AlbumIcon />\n              </IconButton>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n    </HideOnScroll>\n    <Toolbar style={{ margin: \"4px\" }} />\n  </>\n\nexport default Bar\n","import { ApolloClient } from 'apollo-client'\nimport { ApolloLink } from 'apollo-link'\nimport { HttpLink } from 'apollo-link-http'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\nimport { onError } from \"apollo-link-error\"\n\nconst httpLink = new HttpLink({ uri: process.env.REACT_APP_GRAPHQL_URI, credentials: 'include' })\nconst headersLink = new ApolloLink((operation, forward) => forward(operation))\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (graphQLErrors)\n    graphQLErrors.map(({ message, locations, path }) =>\n      console.log(\n        `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\n      ),\n    );\n\n  if (networkError) console.log(`[Network error]: ${networkError}`);\n});\n\nconst link = ApolloLink.from([headersLink, errorLink, httpLink])\n\nexport default new ApolloClient({\n  link,\n  cache: new InMemoryCache({ dataIdFromObject: object => object.id })\n})\n","import React from 'react';\nimport { Artist, StatusEnum } from '../../../graphql/types.d';\nimport ImageCardComponent from '../../../components/imageCard/ImageCardComponent';\nimport { ParameterKeys, ParameterPrefixKeys } from '../../../hooks/useParameters';\nimport { Grid } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\n\nconst ArtistItemLayout = (\n  { artist, width }:\n  { artist: Artist, width:string|number }\n) => {\n  // クエリパラメータ引き継ぎ\n  let history = useHistory()\n  const params = new URLSearchParams(history.location.search)\n  params.set(ParameterPrefixKeys.album + ParameterKeys.ids, artist.id)\n  const status = params.get(ParameterPrefixKeys.artist + ParameterKeys.status)\n  if(status !== null) {\n    params.set(ParameterPrefixKeys.album + ParameterKeys.status, status)\n  }\n\n  const style = {\n    width: \"15px\",\n    height: \"15px\",\n    borderRadius: \"50%\",\n    fontSize: \"10px\",\n    color: \"#fff\",\n    lineHeight: \"15px\",\n    textAlign: \"center\" as \"center\",\n    background: \"#000\",\n  }\n\n  // ステータスをわかりやすいようにしておく\n  const serviceIcons = []\n  if(artist.status === StatusEnum.Pending){\n    serviceIcons.push(<Grid key={10} item style={{...style, color: \"#000\", backgroundColor: \"#FFFF00\"}}>PN</Grid>)\n  } else if (artist.status === StatusEnum.Ignore){\n    serviceIcons.push(<Grid key={11} item style={{...style, color: \"#000\",backgroundColor: \"#FF0000\"}}>IG</Grid>)\n  }\n  const componentInImage = <>{serviceIcons}</>\n\n  return (\n    <ImageCardComponent\n      title={artist.name}\n      src={artist.artworkM.url}\n      width={width}\n      linkUrl={`/artists/${artist.id}?${params.toString()}`}\n      componentInImage={componentInImage}\n    />\n  )\n}\n\nexport default ArtistItemLayout\n","import React, { useState } from 'react';\nimport { useArtistsQuery, ArtistsQueryVariables, Artist } from '../../../graphql/types.d';\nimport { Grid, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\nimport PaginationComponent from '../../../components/pagination/paginationComponent';\nimport ArtistItemLayout from '../item/ArtistItemLayout';\nimport useParameters, { ParameterPrefixKeys, ParameterKeys } from '../../../hooks/useParameters';\nimport { useHistory } from 'react-router-dom';\n\nconst ArtistsLayout = () => {\n  const [order, setOrder] = useState<string>(\"NAME.ASC\")\n  const parameters = useParameters<ArtistsQueryVariables>(\"artist\")\n  let history = useHistory()\n  const limit = 30\n  const { error, data, fetchMore } = useArtistsQuery(\n    {\n      variables: {\n        cursor: {\n          offset: 0,\n          limit: limit,\n        },\n        sort: parameters.sort,\n        conditions: parameters.conditions,\n      },\n      // 戻るボタンで戻っても最初から読み込みが発生しない\n      fetchPolicy: \"cache-first\"\n    }\n  )\n\n  // 並び順初期化\n  const _order = parameters?.sort ? `${parameters?.sort?.order}.${parameters?.sort?.type}` : null\n  if(_order && order !== _order){\n    setOrder(_order)\n  }\n\n  if (error) return <div>{error.message}</div>\n\n  let content:JSX.Element[] = []\n\n  if (data) {\n    content =\n      data.items.map(\n        (item, i) =>\n          <Grid item key={i}>\n            <PaginationComponent\n              component={<ArtistItemLayout artist={item as Artist} width=\"150px\" />}\n              no={i}\n              offset={data.items.length}\n              limit={limit}\n              fetchMore={fetchMore}\n            />\n          </Grid>\n      )\n  }\n\n  const handleChange = (event: React.ChangeEvent<{\n    name?: string | undefined\n    value: unknown\n  }>, _child: React.ReactNode) => {\n    const sort = event.target.value as string\n    const [order, sortType] = sort.split(\".\")\n    setOrder(sort)\n    const params = new URLSearchParams(history.location.search)\n    params.set(ParameterPrefixKeys.artist + ParameterKeys.order, order)\n    params.set(ParameterPrefixKeys.artist + ParameterKeys.sortType, sortType)\n    history.push(`${history.location.pathname}?${params.toString()}`)\n  }\n\n  return (\n    <Grid\n      container\n      spacing={1}\n      direction=\"column\"\n      justify=\"center\"\n      alignItems=\"center\"\n    >\n      <Grid item >\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-start\"\n          alignItems=\"flex-start\"\n        >\n          <Grid>\n            <FormControl variant=\"outlined\" style={{minWidth: 150}}>\n              <InputLabel id=\"demo-simple-select-outlined-label\">アーティスト表示順</InputLabel>\n              <Select\n                labelId=\"demo-simple-select-outlined-label\"\n                id=\"demo-simple-select-outlined\"\n                value={order}\n                onChange={handleChange}\n                label=\"アーティスト表示順\"\n              >\n                <MenuItem value={\"NAME.ASC\"}>名前昇順</MenuItem>\n                <MenuItem value={\"NAME.DESC\"}>名前降順</MenuItem>\n                <MenuItem value={\"NEW.DESC\"}>追加日新しい順</MenuItem>\n                <MenuItem value={\"NEW.ASC\"}>追加日古い順</MenuItem>\n                <MenuItem value={\"POPULARITY.DESC\"}>人気順</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"center\"\n          alignItems=\"center\"\n          spacing={1}\n        >\n          {content}\n        </Grid>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default ArtistsLayout\n","import { Howl } from 'howler'\nimport { Track } from '../../graphql/types.d'\nimport { ActionType } from '../../hooks/playerContext'\n\nclass PreviewPlayer {\n  playlist: Howl[]\n  tracks: Track[]\n  currentPlaybackNo: number\n  dispatch?: React.Dispatch<ActionType>\n\n  constructor(\n    { urls, tracks, dispatch }:\n    { urls:string[], tracks:Track[], dispatch?: React.Dispatch<ActionType> }\n  ){\n    this.currentPlaybackNo = 0\n    this.playlist = urls.map((url) => {\n      return new Howl({\n        src: url,\n        html5: true,\n        preload: false,\n        autoplay: false,\n        onend: () => this.autoNextPlay(),\n      })\n    })\n    this.tracks = tracks\n    this.dispatch = dispatch\n  }\n\n  currentPlaybackTime() {\n    if(this.playlist.length === 0) return 0\n\n    if(this.playlist[this.currentPlaybackNo].state() !== \"unloaded\") {\n      return this.playlist[this.currentPlaybackNo].seek()\n    } else {\n      return 0\n    }\n  }\n\n  async play(no?:number) {\n    if(this.playlist.length === 0) return\n\n    if(no === undefined) {\n      await this.playlist[this.currentPlaybackNo].play()\n    } else {\n      this.stopAndPlay(this.currentPlaybackNo, no)\n      this.currentPlaybackNo = no\n    }\n  }\n\n  async autoNextPlay() {\n    if(this.dispatch) this.dispatch({ type: \"NEXT_PLAY\" })\n  }\n\n  nextPlay():number {\n    if(this.playlist.length === 0) return 0\n    const nextNo = this.currentPlaybackNo + 1\n    if((this.playlist.length - 1) < nextNo) {\n      return this.currentPlaybackNo = 0\n    }\n    this.stopAndPlay(this.currentPlaybackNo, nextNo)\n    return this.currentPlaybackNo = nextNo\n  }\n\n  async stopAndPlay(stopNo:number, playNo:number) {\n    await this.playlist[stopNo].stop()\n    await this.playlist[playNo].play()\n  }\n\n  async pause() {\n    if(this.playlist.length === 0) return\n\n    await this.playlist[this.currentPlaybackNo].pause()\n  }\n\n  async stop() {\n    if(this.playlist.length === 0) return\n\n    await this.playlist[this.currentPlaybackNo].stop()\n    this.currentPlaybackNo = 0\n  }\n}\n\nexport default PreviewPlayer\n","import React from 'react';\nimport { Grid, Button, MuiThemeProvider, createMuiTheme } from '@material-ui/core';\nimport { red, green, blue } from '@material-ui/core/colors';\nimport { Album } from '../../graphql/types.d'\n\nconst ShareButtonComponent = ({ album }:{ album:Album|null }) => {\n  let contents:JSX.Element[] = []\n\n  if(album?.appleMusicAlbum){\n    contents.push(\n      <Grid item key={0}>\n        <MuiThemeProvider theme={createMuiTheme({ palette: { primary: red } })}>\n          <Button\n            href={`https://music.apple.com/jp/album/${album.appleMusicAlbum.appleMusicId}`}\n            target=\"_blank\"\n            variant=\"contained\" color=\"primary\"\n          >\n            Apple Music で聴く\n          </Button>\n        </MuiThemeProvider>\n      </Grid>\n    )\n  }\n\n  if(album?.itunesAlbum){\n    contents.push(\n      <Grid item key={1}>\n        <MuiThemeProvider theme={createMuiTheme({ palette: { primary: blue } })}>\n          <Button\n            href={`https://music.apple.com/jp/album/${album.itunesAlbum.appleMusicId}`}\n            target=\"_blank\"\n            variant=\"contained\" color=\"primary\"\n          >\n            iTunes で聴く\n          </Button>\n        </MuiThemeProvider>\n      </Grid>\n    )\n  }\n\n  if(album?.spotifyAlbum){\n    contents.push(\n      <Grid item key={2}>\n        <MuiThemeProvider theme={createMuiTheme({ palette: { primary: green } })}>\n          <Button\n            href={`https://open.spotify.com/album/${album.spotifyAlbum.spotifyId}`}\n            target=\"_blank\"\n            variant=\"contained\" color=\"primary\"\n          >\n            Spotify で聴く\n          </Button>\n        </MuiThemeProvider>\n      </Grid>\n    )\n  }\n\n  return (\n    <Grid\n      container\n      spacing={2}\n      direction=\"row\"\n      justify=\"center\"\n      alignItems=\"center\"\n    >\n      {contents}\n    </Grid>\n  )\n}\n\nexport default ShareButtonComponent\n","import React, { useEffect, useState, useContext, useRef } from 'react';\nimport { TableContainer, Paper, Table, TableHead, TableRow, TableCell, TableBody, IconButton } from '@material-ui/core';\nimport ImageCardComponent from '../imageCard/ImageCardComponent';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PreviewPlayer from './PreviewPlayer';\nimport ShareButtonComponent from './ShareButtonComponent';\nimport { Album } from '../../graphql/types.d'\nimport PlayerContext from '../../hooks/playerContext';\n\nconst PreviewPlayerComponent = ({ album }:{ album:Album }) => {\n  const { state, dispatch } = useContext(PlayerContext)\n\n  const timeConversion = (ms:number) => {\n    const seconds = parseInt((ms / 1000).toFixed(0))\n    const minutes = parseInt((ms / (1000 * 60)).toFixed(0))\n    const hours = parseInt((ms / (1000 * 60 * 60)).toFixed(0))\n    const days = parseInt((ms / (1000 * 60 * 60 * 24)).toFixed(0))\n\n    if (seconds < 60) {\n        return seconds + \"秒\";\n    } else if (minutes < 60) {\n        return minutes + \"分\";\n    } else if (hours < 24) {\n        return hours + \"時間\";\n    } else {\n        return days + \"日\"\n    }\n  }\n\n  // アルバム情報\n  const reducer = (accumulator:number, currentValue:number) => accumulator + currentValue\n  const ms = album.tracks.map(track => track.durationMs).reduce(reducer)\n  const [{ value: year },{ value: literal }] =\n    new Intl.DateTimeFormat(\"jp\", { year: 'numeric' }).formatToParts(new Date(album.releaseDate))\n  const releaseYear = `${year}${literal}`\n\n  // プレビュー画面表示時に初期化される\n  const initPlayer = useRef<boolean>(true);\n  const play = (no:number) => {\n    if(initPlayer.current) {\n      const _player = new PreviewPlayer({\n        urls: album.tracks.map(track => track.previewUrl),\n        tracks: album.tracks,\n        dispatch,\n      })\n      dispatch({ type: \"SET_PLAYER\", player: _player })\n      initPlayer.current = false\n    }\n    console.log(\"dispatch PLAY\")\n    dispatch({ type: \"PLAY\", no })\n  }\n\n  return (\n    <TableContainer component={Paper}>\n      <Table size=\"small\">\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\" colSpan={6} style={{ border: 'none' }}>\n              <ImageCardComponent title={\"\"} src={album.artworkL.url} width={\"300px\"}/>\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"center\" colSpan={6} style={{ border: 'none' }}>\n              { album.name }\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"center\" colSpan={6} style={{ border: 'none' }}>\n              { `${releaseYear}発売、${album.totalTracks}曲、${timeConversion(ms)}` }\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell align=\"center\" colSpan={6}>\n             <ShareButtonComponent album={album} />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell></TableCell>\n            <TableCell align=\"center\">試聴</TableCell>\n            <TableCell>No.</TableCell>\n            <TableCell>タイトル</TableCell>\n            <TableCell></TableCell>\n            <TableCell></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {album.tracks.map((track, i) => {\n            // TODO: あまり意味のある数値ではないのでアルバムの中の平均からスターをつける\n            const star = track.popularity > 5 ? \"★\" : \"\"\n            const durationTime = new Date(0)\n            durationTime.setSeconds(track.durationMs / 1000)\n            const duration = durationTime.toISOString().substr(14, 5)\n\n            return <TableRow key={i}>\n              <TableCell>{star}</TableCell>\n              <TableCell>\n                <IconButton onClick={() => play(i)} component=\"span\">\n                  <PlayArrowIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell>{track.trackNumber}</TableCell>\n              <TableCell>{track.name}</TableCell>\n              <TableCell align=\"right\">{duration}</TableCell>\n              <TableCell></TableCell>\n            </TableRow>\n          })}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nexport default PreviewPlayerComponent\n","import React from 'react';\nimport { useAlbumQuery, Album } from '../../../graphql/types.d';\nimport { Grid } from '@material-ui/core';\nimport { useParams } from 'react-router-dom';\nimport ArtistsLayout from '../../artist/list/ArtistsLayout';\nimport PreviewPlayerComponent from '../../../components/player/PreviewPlayerComponent';\n\n// TODO: このファイル汚すぎるのでリファクタすること\n\nconst AlbumInfoLayout = () => {\n  const { id } = useParams()\n  const { loading, error, data } = useAlbumQuery({ variables: { id: id } })\n\n  if (error) return <div>{error.message}</div>\n\n  let content = <></>\n\n  if(!loading && data && data.album) {\n\n    const album_content = <PreviewPlayerComponent album={data.album as Album} />\n\n    content =\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        spacing={2}\n        >\n          <Grid item>\n            {album_content}\n          </Grid>\n          <Grid item>\n            <Grid container>\n              <ArtistsLayout />\n            </Grid>\n          </Grid>\n      </Grid>\n  }\n\n  return (\n    <Grid\n      container\n      spacing={1}\n      direction=\"column\"\n      justify=\"center\"\n      alignItems=\"center\"\n    >\n      <Grid item>\n        {content}\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default AlbumInfoLayout\n","import React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Artist, ArtistDocument } from '../../../graphql/types.d';\nimport { Grid } from '@material-ui/core';\nimport { useParams } from 'react-router-dom';\nimport AlbumsLayout from '../../album/list/AlbumsLayout';\nimport ImageCardComponent from '../../../components/imageCard/ImageCardComponent';\n\nconst ArtistInfoLayout = () => {\n  const { id } = useParams()\n  const { error, data } =\n    useQuery<{ artist: Artist | null }>(ArtistDocument,{ variables: { id: id } })\n\n  if (error) return <div>{error.message}</div>\n\n  let content = <></>\n\n  if (data && data.artist) {\n    content =\n      <Grid item>\n        <ImageCardComponent\n          title={data.artist.name}\n          src={data.artist.artworkL.url}\n          width={270}\n        />\n      </Grid>\n  }\n\n  return (\n    <Grid\n      container\n      spacing={2}\n      direction=\"column\"\n      justify=\"center\"\n      alignItems=\"center\"\n    >\n      {content}\n      <Grid item>\n        <AlbumsLayout />\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default ArtistInfoLayout\n","import React, { useState } from 'react';\nimport { Grid, FormControl, InputLabel, Input, Button } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert'\nimport { useSigninMutation, SigninPayload } from '../../../graphql/types.d';\n\nconst UserSigninLayout = () => {\n  const [notification, setNotification] = useState(<></>)\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n\n  interface SigninResponse {\n    data: { signin: SigninPayload }\n  }\n  const [signin] = useSigninMutation({\n    update: (_, response:SigninResponse) => {\n      if (response.data.signin.error) {\n        setNotification(<Alert severity=\"error\">{response.data.signin.error}</Alert>)\n      } else {\n        setNotification(<Alert severity=\"success\">ログインしました</Alert>)\n      }\n    },\n    variables: { input: { username, password } },\n  })\n\n  return (\n    <Grid\n      container\n      spacing={1}\n      direction=\"row\"\n      justify=\"center\"\n      alignItems=\"center\"\n    >\n      <form autoComplete=\"off\">\n        <div>\n          <FormControl>\n            <InputLabel>ユーザー名</InputLabel>\n            <Input value={username} onChange={e => setUsername(e.target.value || \"\")}/>\n          </FormControl>\n        </div>\n        <div>\n          <FormControl>\n            <InputLabel>パスワード</InputLabel>\n            <Input value={password} onChange={e => setPassword(e.target.value || \"\")} type=\"password\" />\n          </FormControl>\n        </div>\n        <div>\n          <Button type=\"submit\" onClick={(e) =>{e.preventDefault(); signin()}} variant=\"contained\">Signin</Button>\n        </div>\n        <div>{notification}</div>\n      </form>\n    </Grid>\n  )\n}\n\nexport default UserSigninLayout\n","import React, { useState } from 'react';\nimport { Grid, FormControl, InputLabel, Input, Button } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert'\nimport { useMeQuery, useUpdateMeMutation, UpdateMePayload, UpdateMeInput } from '../../../graphql/types.d';\n\nconst UserMeLayout = () => {\n  const [notification, setNotification] = useState(<></>)\n  const [name, setName] = useState(\"\")\n  const [username, setUsername] = useState(\"\")\n  const [oldPassword, setOldPassword] = useState(\"\")\n  const [newPassword, setNewPassword] = useState(\"\")\n  const [input, setInput] = useState<UpdateMeInput>({ oldPassword })\n\n  // カレントユーザーデフォルト値\n  const { data } = useMeQuery()\n  if(name === \"\" && username === \"\" && data && data.me){\n    setName(data.me.name)\n    setUsername(data.me.username)\n  }\n  // TODO: 適当すぎるので直すこと\n  let role:JSX.Element[] = []\n  if(data && data.me){\n    role = data.me.role.allowedActions.map((action, i) => {\n        return <p key={i}>{action}</p>\n      }\n    )\n  }\n\n  // カレントユーザー更新\n  interface UpdateMeResponse {\n    data: { updateMe: UpdateMePayload }\n  }\n  const [updateMe] = useUpdateMeMutation({\n    update: (_, response:UpdateMeResponse) => {\n      if (response.data.updateMe.error) {\n        setNotification(<Alert severity=\"error\">{response.data.updateMe.error}</Alert>)\n      } else {\n        setNotification(<Alert severity=\"success\">更新しました</Alert>)\n      }\n    },\n    variables: { input },\n  })\n\n  return (\n    <Grid\n      container\n      spacing={1}\n      direction=\"row\"\n      justify=\"center\"\n      alignItems=\"center\"\n    >\n      <form autoComplete=\"off\">\n        <div>ID: {(data && data.me) ? data.me.id : \"\"}</div>\n        <div>\n          <FormControl>\n            <InputLabel>名前</InputLabel>\n            <Input value={name} onChange={e => {\n              setName(e.target.value || \"\")\n              setInput({ ...input, name: (e.target.value || \"\") })\n            }}/>\n          </FormControl>\n        </div>\n        <div>\n          <FormControl>\n            <InputLabel>ユーザー名</InputLabel>\n            <Input value={username} onChange={e => {\n              setUsername(e.target.value || \"\")\n              setInput({ ...input, username: (e.target.value || \"\") })\n            }}/>\n          </FormControl>\n        </div>\n        <div>\n          <FormControl>\n            <InputLabel>新しいパスワード</InputLabel>\n            <Input value={newPassword} onChange={e => {\n              setNewPassword(e.target.value || \"\")\n              setInput({ ...input, newPassword: (e.target.value || \"\") })\n            }} type=\"password\" />\n          </FormControl>\n        </div>\n        <div>\n          <FormControl required={true}>\n            <InputLabel>古いパスワード</InputLabel>\n            <Input value={oldPassword} onChange={e => {\n              setOldPassword(e.target.value || \"\")\n              setInput({ ...input, oldPassword: (e.target.value || \"\") })\n            }} type=\"password\" />\n          </FormControl>\n        </div>\n        <div>\n          <Button type=\"submit\" onClick={(e) =>{e.preventDefault(); updateMe()}} variant=\"contained\">Update</Button>\n        </div>\n        <div>{notification}</div>\n        <div>権限: {role}</div>\n      </form>\n    </Grid>\n  )\n}\n\nexport default UserMeLayout\n","import React, { useContext } from 'react';\nimport { Grid, Toolbar, IconButton, Fab } from '@material-ui/core';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow'\nimport PauseIcon from '@material-ui/icons/Pause'\nimport StopIcon from '@material-ui/icons/Stop';\nimport PlayerContext, { PlaybackStatus } from '../../hooks/playerContext';\nimport ImageCardComponent from '../../components/imageCard/ImageCardComponent';\nimport ImageComponent from '../../components/image/ImageComponent';\n\nconst PreviewPlayerLayout = () => {\n  const { state, dispatch } = useContext(PlayerContext)\n\n  let playbackButton = <></>\n\n  switch(state.playbackStatus) {\n    case PlaybackStatus.None:\n      playbackButton =\n        <IconButton color=\"inherit\" disabled={true}>\n          <PlayArrowIcon fontSize=\"large\" />\n        </IconButton>\n      break;\n    case PlaybackStatus.Play:\n      playbackButton =\n        <IconButton color=\"inherit\" onClick={() => dispatch({ type: \"PAUSE\" })}>\n          <PauseIcon fontSize=\"large\" />\n        </IconButton>\n      break;\n    case PlaybackStatus.Pause:\n      playbackButton =\n        <IconButton color=\"inherit\" onClick={() => dispatch({ type: \"PLAY\" })}>\n          <PlayArrowIcon fontSize=\"large\" />\n        </IconButton>\n      break;\n    case PlaybackStatus.Stop:\n      playbackButton =\n        <IconButton color=\"inherit\" onClick={() => dispatch({ type: \"PLAY\", no: 0 })}>\n          <PlayArrowIcon fontSize=\"large\" />\n        </IconButton>\n      break;\n  }\n\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      justify=\"center\"\n      alignItems=\"center\"\n      spacing={2}\n    >\n      <Grid item>\n        {playbackButton}\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default PreviewPlayerLayout\n","import React from 'react';\nimport { useScrollTrigger, AppBar, Toolbar, Typography, IconButton, Grid } from '@material-ui/core';\nimport PersonIcon from '@material-ui/icons/Person'\nimport AlbumIcon from '@material-ui/icons/Album'\nimport { Link } from 'react-router-dom';\nimport PreviewPlayerLayout from '../player/PreviewPlayerLayout';\n\n// ref: https://material-ui.com/components/app-bar/#elevate-app-bar\nconst PlayerBar = () =>\n  <AppBar position=\"fixed\" color=\"primary\" style={{ top: 'auto', bottom: 0 }}>\n    <PreviewPlayerLayout />\n  </AppBar>\n\nexport default PlayerBar\n","import React from 'react';\nimport { Switch, Route, BrowserRouter } from \"react-router-dom\"\nimport AlbumsLayout from '../album/list/AlbumsLayout';\nimport Bar from './Bar';\nimport { ApolloProvider } from '@apollo/react-hoc';\nimport client from './client';\nimport AlbumInfoLayout from '../album/info/AlbumInfoLayout';\nimport ArtistsLayout from '../artist/list/ArtistsLayout';\nimport ArtistInfoLayout from '../artist/info/ArtistInfoLayout';\nimport UserSigninLayout from '../user/signin/UserSigninLayout';\nimport UserMeLayout from '../user/me/UserMeLayout';\nimport { Grid } from '@material-ui/core';\nimport { PlayerProvider } from '../../hooks/playerContext';\nimport PlayerBar from './PlayerBar';\n\nconst RootStyleLayout = () =>\n  <BrowserRouter>\n    <ApolloProvider client={client}>\n      <PlayerProvider >\n        <Bar />\n        <PlayerBar />\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"center\"\n          style={{ paddingBottom: \"80px\" }}\n        >\n            <Grid item>\n              <Switch>\n                <Route exact path=\"/\" component={AlbumsLayout} />\n                <Route exact path=\"/artists\" component={ArtistsLayout} />\n                <Route exact path=\"/artists/:id\" component={ArtistInfoLayout} />\n                <Route exact path=\"/albums\" component={AlbumsLayout} />\n                <Route exact path=\"/albums/:id\" component={AlbumInfoLayout} />\n                <Route exact path=\"/signin\" component={UserSigninLayout} />\n                <Route exact path=\"/me\" component={UserMeLayout} />\n              </Switch>\n            </Grid>\n        </Grid>\n      </PlayerProvider>\n    </ApolloProvider>\n  </BrowserRouter>\n\nexport default RootStyleLayout\n","import React from 'react';\nimport { createMuiTheme, ThemeProvider, CssBaseline } from '@material-ui/core';\nimport Root from './Root';\n\nconst theme = createMuiTheme({\n  palette: {\n    type: \"dark\"\n  },\n  typography: {\n    fontFamily: [\n      '\"Noto Sans JP\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n  },\n})\n\nconst RootStyleLayout = () =>\n  <ThemeProvider theme={theme}>\n    {/* リセットCSS */}\n    <CssBaseline />\n    {/* フォント */}\n    <link href=\"https://fonts.googleapis.com/css?family=Noto+Sans+JP\" rel=\"stylesheet\" />\n    <Root />\n  </ThemeProvider>\n\nexport default RootStyleLayout\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport RootStyleLayout from './RootStyle';\nimport { unregister } from './serviceWorker'\n\nconst App = () => <RootStyleLayout />\n\nexport default App\n\nunregister()\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './layouts/app/App';\n\nReactDOM.render(<App />, document.querySelector('#app'));\n"],"sourceRoot":""}